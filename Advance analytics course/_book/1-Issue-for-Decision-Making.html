<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>1&nbsp; Issue for Decision-Making – Advanced Data Analytics Course</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./2-Key-Players-and-Topics.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./1-Issue-for-Decision-Making.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Issue for Decision-Making</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Advanced Data Analytics Course</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1-Issue-for-Decision-Making.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Issue for Decision-Making</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2-Key-Players-and-Topics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Key Players and Topics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3-Imputing-and-Linking-Data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Imputing and Linking Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4-Spotting-Weak-Predictive-Signals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Spotting Weak Predictive Signals</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5-Data-Storage-and-Traceability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data Storage and Traceability</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6-Interpreting-Weak-Predictive-Signals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Interpreting Weak Predictive Signals</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./7-Planning-and-Taking-Action.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Planning and Taking Action</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./8-Monitoring-and-Assessing-Progress.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Monitoring and Assessing Progress</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Appendix-1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Appendix 1</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul class="collapse">
  <li><a href="#exploratory-analysis-of-multidimensional-data" id="toc-exploratory-analysis-of-multidimensional-data" class="nav-link active" data-scroll-target="#exploratory-analysis-of-multidimensional-data">Exploratory Analysis of Multidimensional Data</a>
  <ul class="collapse">
  <li><a href="#import-dataset-load-required-packages-and-provide-a-summary" id="toc-import-dataset-load-required-packages-and-provide-a-summary" class="nav-link" data-scroll-target="#import-dataset-load-required-packages-and-provide-a-summary"><span class="header-section-number">1.1</span> Import Dataset, Load Required Packages, and Provide a Summary</a></li>
  <li><a href="#skewness" id="toc-skewness" class="nav-link" data-scroll-target="#skewness"><span class="header-section-number">1.2</span> Skewness</a></li>
  <li><a href="#kurtosis" id="toc-kurtosis" class="nav-link" data-scroll-target="#kurtosis"><span class="header-section-number">1.3</span> Kurtosis</a></li>
  <li><a href="#coefficient-of-variation" id="toc-coefficient-of-variation" class="nav-link" data-scroll-target="#coefficient-of-variation"><span class="header-section-number">1.4</span> Coefficient of Variation</a></li>
  <li><a href="#median-absolute-deviation-mad-and-madmedian" id="toc-median-absolute-deviation-mad-and-madmedian" class="nav-link" data-scroll-target="#median-absolute-deviation-mad-and-madmedian"><span class="header-section-number">1.5</span> Median Absolute Deviation MAD and MAD/median</a></li>
  <li><a href="#covariance-matrix" id="toc-covariance-matrix" class="nav-link" data-scroll-target="#covariance-matrix"><span class="header-section-number">1.6</span> Covariance Matrix</a></li>
  <li><a href="#covariance-matrix-of-log-transformed-data" id="toc-covariance-matrix-of-log-transformed-data" class="nav-link" data-scroll-target="#covariance-matrix-of-log-transformed-data"><span class="header-section-number">1.7</span> Covariance Matrix of Log-Transformed Data</a></li>
  <li><a href="#redundant-variables" id="toc-redundant-variables" class="nav-link" data-scroll-target="#redundant-variables"><span class="header-section-number">1.8</span> Redundant Variables</a></li>
  <li><a href="#global-variability-metric" id="toc-global-variability-metric" class="nav-link" data-scroll-target="#global-variability-metric"><span class="header-section-number">1.9</span> Global Variability Metric</a></li>
  <li><a href="#linear-dependency-and-precision-matrix" id="toc-linear-dependency-and-precision-matrix" class="nav-link" data-scroll-target="#linear-dependency-and-precision-matrix"><span class="header-section-number">1.10</span> Linear Dependency and Precision Matrix</a></li>
  </ul></li>
  <li><a href="#hands-on-data-analysis" id="toc-hands-on-data-analysis" class="nav-link" data-scroll-target="#hands-on-data-analysis">Hands-on Data Analysis</a>
  <ul class="collapse">
  <li><a href="#tackling-a-critical-challenge-the-proliferation-of-spatial-criminal-phenomena" id="toc-tackling-a-critical-challenge-the-proliferation-of-spatial-criminal-phenomena" class="nav-link" data-scroll-target="#tackling-a-critical-challenge-the-proliferation-of-spatial-criminal-phenomena"><span class="header-section-number">1.11</span> Tackling a Critical Challenge: The Proliferation of Spatial Criminal Phenomena</a></li>
  <li><a href="#final-project-activities" id="toc-final-project-activities" class="nav-link" data-scroll-target="#final-project-activities"><span class="header-section-number">1.12</span> Final Project Activities</a></li>
  <li><a href="#class-participation-assessment" id="toc-class-participation-assessment" class="nav-link" data-scroll-target="#class-participation-assessment"><span class="header-section-number">1.13</span> Class Participation Assessment</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Issue for Decision-Making</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This section is based on <em>Análisis de datos multivariantes</em>. See <span class="citation" data-cites="peña2002análisis">(<a href="references.html#ref-peña2002análisis" role="doc-biblioref">Peña 2002</a>)</span>.</p>
<section id="exploratory-analysis-of-multidimensional-data" class="level1 unnumbered">
<h1 class="unnumbered">Exploratory Analysis of Multidimensional Data</h1>
<section id="import-dataset-load-required-packages-and-provide-a-summary" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="import-dataset-load-required-packages-and-provide-a-summary"><span class="header-section-number">1.1</span> Import Dataset, Load Required Packages, and Provide a Summary</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># working directory</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">#setwd(dirname(rstudioapi::getSourceEditorContext()$path))</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># packages</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>list_packages <span class="ot">=</span> <span class="fu">c</span>(<span class="st">'readxl'</span>, <span class="st">'dplyr'</span>, <span class="st">'moments'</span>, <span class="st">'tidyr'</span>, <span class="st">'tibble'</span>, <span class="st">'gt'</span>, <span class="st">'ggplot2'</span>, <span class="st">'fmsb'</span>, <span class="st">'car'</span>, <span class="st">'reshape2'</span>, <span class="st">'knitr'</span>, <span class="st">'gridExtra'</span>, <span class="st">'ggExtra'</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>new.packages <span class="ot">=</span> list_packages[<span class="sc">!</span>(list_packages <span class="sc">%in%</span> <span class="fu">installed.packages</span>()[,<span class="st">"Package"</span>])]</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(new.packages)) {</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(new.packages)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (package <span class="cf">in</span> list_packages){</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(package, <span class="at">character.only =</span> T)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the dataset</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>delitos_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/delitos_2024_v2.xlsx"</span>, </span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">sheet =</span> <span class="st">"2024"</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(delitos_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1215   19</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(delitos_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    UNIDAD            ESTACION            SEXUALES        EXTORSION     
 Length:1215        Length:1215        Min.   :  0.00   Min.   :  0.00  
 Class :character   Class :character   1st Qu.:  2.00   1st Qu.:  0.00  
 Mode  :character   Mode  :character   Median :  6.00   Median :  2.00  
                                       Mean   : 24.47   Mean   : 10.15  
                                       3rd Qu.: 16.00   3rd Qu.:  7.00  
                                       Max.   :923.00   Max.   :337.00  
   HOMICIDIO       HOMICIDIO_AT      SEMOVIENTES      AUTOMOTORES     
 Min.   :  0.00   Min.   :  0.000   Min.   : 0.000   Min.   :  0.000  
 1st Qu.:  0.00   1st Qu.:  0.000   1st Qu.: 0.000   1st Qu.:  0.000  
 Median :  3.00   Median :  2.000   Median : 0.000   Median :  0.000  
 Mean   : 10.96   Mean   :  5.635   Mean   : 0.837   Mean   :  8.995  
 3rd Qu.: 11.00   3rd Qu.:  6.000   3rd Qu.: 1.000   3rd Qu.:  3.000  
 Max.   :236.00   Max.   :105.000   Max.   :22.000   Max.   :909.000  
     BANCOS           COMERCIO        MOTOCICLETAS        PERSONAS      
 Min.   :0.00000   Min.   :   0.00   Min.   :   0.00   Min.   :    0.0  
 1st Qu.:0.00000   1st Qu.:   1.00   1st Qu.:   0.00   1st Qu.:    3.0  
 Median :0.00000   Median :   4.00   Median :   3.00   Median :   10.0  
 Mean   :0.04197   Mean   :  28.74   Mean   :  31.03   Mean   :  252.7  
 3rd Qu.:0.00000   3rd Qu.:  14.00   3rd Qu.:  14.00   3rd Qu.:   50.0  
 Max.   :5.00000   Max.   :1033.00   Max.   :1138.00   Max.   :12700.0  
   PIRATERIA       RESIDENCIAS      LESIONES_AT         LESIONES      
 Min.   :0.0000   Min.   :  0.00   Min.   :   0.00   Min.   :   0.00  
 1st Qu.:0.0000   1st Qu.:  1.00   1st Qu.:   1.00   1st Qu.:   6.00  
 Median :0.0000   Median :  4.00   Median :   5.00   Median :  17.00  
 Mean   :0.1029   Mean   : 23.36   Mean   :  38.12   Mean   :  72.93  
 3rd Qu.:0.0000   3rd Qu.: 16.50   3rd Qu.:  28.00   3rd Qu.:  50.00  
 Max.   :7.0000   Max.   :804.00   Max.   :1118.00   Max.   :2170.00  
   SECUESTRO        TERRORISMO      INTRAFAMILIAR   
 Min.   :0.0000   Min.   : 0.0000   Min.   :   0.0  
 1st Qu.:0.0000   1st Qu.: 0.0000   1st Qu.:   5.0  
 Median :0.0000   Median : 0.0000   Median :  14.0  
 Mean   :0.2296   Mean   : 0.1514   Mean   : 108.8  
 3rd Qu.:0.0000   3rd Qu.: 0.0000   3rd Qu.:  46.5  
 Max.   :7.0000   Max.   :15.0000   Max.   :5142.0  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># quantile</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(delitos_data<span class="sc">$</span>AUTOMOTORES, <span class="at">probs =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.1</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   0%   10%   20%   30%   40%   50%   60%   70%   80%   90%  100% 
  0.0   0.0   0.0   0.0   0.0   0.0   1.0   2.0   4.0  15.6 909.0 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#boxplot</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(delitos_data<span class="sc">$</span>AUTOMOTORES, <span class="at">main =</span> <span class="st">"Boxplot of AUTOMOTORES"</span>, <span class="at">horizontal =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1-Issue-for-Decision-Making_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="skewness" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="skewness"><span class="header-section-number">1.2</span> Skewness</h2>
<p>Skewness measures the asymmetry of a data distribution around its mean. It is defined mathematically as:</p>
<p><span class="math inline">\(g_1 = \frac{n}{(n-1)(n-2)} \sum \left( \frac{x_i - \bar{x}}{\sigma} \right)^3\)</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(( n )\)</span>: Number of observations,</li>
<li><span class="math inline">\(( x_i )\)</span>: Individual data points,</li>
<li><span class="math inline">\(( \bar{x} )\)</span>: Mean of the data,</li>
<li><span class="math inline">\(( \sigma )\)</span>: Standard deviation of the data.</li>
</ul>
<p>A skewness of <span class="math inline">\(( 0 )\)</span> indicates a perfectly symmetric distribution. Positive skewness <span class="math inline">\(( g_1 &gt; 0 )\)</span> signifies a longer tail on the right side of the distribution, while negative skewness <span class="math inline">\(( g_1 &lt; 0 )\)</span> indicates a longer tail on the left. The code below calculates skewness for all numeric columns in <code>delitos_data</code> and presents the results in a formatted table:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># step by step</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(delitos_data<span class="sc">$</span>AUTOMOTORES) </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>mean_x <span class="ot">&lt;-</span> <span class="fu">mean</span>(delitos_data<span class="sc">$</span>AUTOMOTORES)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>sd_x <span class="ot">&lt;-</span> <span class="fu">sd</span>(delitos_data<span class="sc">$</span>AUTOMOTORES)  <span class="co"># Uses (n-1) denominator</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>z_scores <span class="ot">&lt;-</span> (delitos_data<span class="sc">$</span>AUTOMOTORES <span class="sc">-</span> mean_x) <span class="sc">/</span> sd_x</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>z_cubed <span class="ot">&lt;-</span> z_scores<span class="sc">^</span><span class="dv">3</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>sum_cubed <span class="ot">&lt;-</span> <span class="fu">sum</span>(z_cubed)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>skewness <span class="ot">&lt;-</span> (n <span class="sc">/</span> ((n <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> (n <span class="sc">-</span> <span class="dv">2</span>))) <span class="sc">*</span> sum_cubed</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(skewness)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12.24352</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># skewness</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>delitos_data <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span>  <span class="co"># Select only numeric columns</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span> <span class="fu">skewness</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">"Crime Type"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">V1 =</span> <span class="fu">round</span>(V1, <span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Skewness =</span> V1) <span class="sc">%&gt;%</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="zlrdjhvsey" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zlrdjhvsey table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zlrdjhvsey thead, #zlrdjhvsey tbody, #zlrdjhvsey tfoot, #zlrdjhvsey tr, #zlrdjhvsey td, #zlrdjhvsey th {
  border-style: none;
}

#zlrdjhvsey p {
  margin: 0;
  padding: 0;
}

#zlrdjhvsey .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zlrdjhvsey .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zlrdjhvsey .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zlrdjhvsey .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zlrdjhvsey .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zlrdjhvsey .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zlrdjhvsey .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zlrdjhvsey .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zlrdjhvsey .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zlrdjhvsey .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zlrdjhvsey .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zlrdjhvsey .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zlrdjhvsey .gt_spanner_row {
  border-bottom-style: hidden;
}

#zlrdjhvsey .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zlrdjhvsey .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zlrdjhvsey .gt_from_md > :first-child {
  margin-top: 0;
}

#zlrdjhvsey .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zlrdjhvsey .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zlrdjhvsey .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zlrdjhvsey .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zlrdjhvsey .gt_row_group_first td {
  border-top-width: 2px;
}

#zlrdjhvsey .gt_row_group_first th {
  border-top-width: 2px;
}

#zlrdjhvsey .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zlrdjhvsey .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zlrdjhvsey .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zlrdjhvsey .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zlrdjhvsey .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zlrdjhvsey .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zlrdjhvsey .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zlrdjhvsey .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zlrdjhvsey .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zlrdjhvsey .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zlrdjhvsey .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zlrdjhvsey .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zlrdjhvsey .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zlrdjhvsey .gt_left {
  text-align: left;
}

#zlrdjhvsey .gt_center {
  text-align: center;
}

#zlrdjhvsey .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zlrdjhvsey .gt_font_normal {
  font-weight: normal;
}

#zlrdjhvsey .gt_font_bold {
  font-weight: bold;
}

#zlrdjhvsey .gt_font_italic {
  font-style: italic;
}

#zlrdjhvsey .gt_super {
  font-size: 65%;
}

#zlrdjhvsey .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zlrdjhvsey .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zlrdjhvsey .gt_indent_1 {
  text-indent: 5px;
}

#zlrdjhvsey .gt_indent_2 {
  text-indent: 10px;
}

#zlrdjhvsey .gt_indent_3 {
  text-indent: 15px;
}

#zlrdjhvsey .gt_indent_4 {
  text-indent: 20px;
}

#zlrdjhvsey .gt_indent_5 {
  text-indent: 25px;
}

#zlrdjhvsey .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#zlrdjhvsey div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="Crime-Type" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Crime Type</th>
<th id="Skewness" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Skewness</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SEXUALES</td>
<td class="gt_row gt_right" headers="Skewness">7.60</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">EXTORSION</td>
<td class="gt_row gt_right" headers="Skewness">5.97</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">HOMICIDIO</td>
<td class="gt_row gt_right" headers="Skewness">4.23</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">HOMICIDIO_AT</td>
<td class="gt_row gt_right" headers="Skewness">4.08</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SEMOVIENTES</td>
<td class="gt_row gt_right" headers="Skewness">4.63</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">AUTOMOTORES</td>
<td class="gt_row gt_right" headers="Skewness">12.23</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">BANCOS</td>
<td class="gt_row gt_right" headers="Skewness">9.64</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">COMERCIO</td>
<td class="gt_row gt_right" headers="Skewness">6.35</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">MOTOCICLETAS</td>
<td class="gt_row gt_right" headers="Skewness">5.84</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">PERSONAS</td>
<td class="gt_row gt_right" headers="Skewness">7.98</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">PIRATERIA</td>
<td class="gt_row gt_right" headers="Skewness">7.10</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">RESIDENCIAS</td>
<td class="gt_row gt_right" headers="Skewness">6.24</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">LESIONES_AT</td>
<td class="gt_row gt_right" headers="Skewness">5.21</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">LESIONES</td>
<td class="gt_row gt_right" headers="Skewness">5.49</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SECUESTRO</td>
<td class="gt_row gt_right" headers="Skewness">4.51</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">TERRORISMO</td>
<td class="gt_row gt_right" headers="Skewness">10.75</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">INTRAFAMILIAR</td>
<td class="gt_row gt_right" headers="Skewness">8.13</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="kurtosis" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="kurtosis"><span class="header-section-number">1.3</span> Kurtosis</h2>
<p>Kurtosis measures the heaviness of the tails of a data distribution relative to a normal distribution. It is defined mathematically as:</p>
<p><span class="math inline">\(g_2 = \left[ \frac{n(n+1)}{(n-1)(n-2)(n-3)} \sum \left( \frac{x_i - \bar{x}}{\sigma} \right)^4 \right] - \frac{3(n-1)^2}{(n-2)(n-3)}\)</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(( n )\)</span>: Number of observations,</li>
<li><span class="math inline">\(( x_i )\)</span>: Individual data points,</li>
<li><span class="math inline">\(( \bar{x} )\)</span>: Mean of the data,</li>
<li><span class="math inline">\(( \sigma )\)</span>: Standard deviation of the data.</li>
</ul>
<p>A kurtosis of <span class="math inline">\(( 0 )\)</span> (excess kurtosis) indicates tail behavior similar to a normal distribution. Positive kurtosis <span class="math inline">\(( g_2 &gt; 0 )\)</span> signifies heavier tails and more outliers (leptokurtic), while negative kurtosis <span class="math inline">\(( g_2 &lt; 0 )\)</span> indicates lighter tails and fewer outliers (platykurtic).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># step by step</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>z_fourth <span class="ot">&lt;-</span> z_scores<span class="sc">^</span><span class="dv">4</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>sum_fourth <span class="ot">&lt;-</span> <span class="fu">sum</span>(z_fourth)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>kurtosis <span class="ot">&lt;-</span> ((n <span class="sc">*</span> (n <span class="sc">+</span> <span class="dv">1</span>)) <span class="sc">/</span> ((n <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> (n <span class="sc">-</span> <span class="dv">2</span>) <span class="sc">*</span> (n <span class="sc">-</span> <span class="dv">3</span>))) <span class="sc">*</span> sum_fourth <span class="sc">-</span> (<span class="dv">3</span> <span class="sc">*</span> (n <span class="sc">-</span> <span class="dv">1</span>)<span class="sc">^</span><span class="dv">2</span>) <span class="sc">/</span> ((n <span class="sc">-</span> <span class="dv">2</span>) <span class="sc">*</span> (n <span class="sc">-</span> <span class="dv">3</span>))</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(kurtosis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 216.777</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># kurtosis</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>delitos_data <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span>  <span class="co"># Select only numeric columns</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span> <span class="fu">kurtosis</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">-</span> <span class="dv">3</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>() <span class="sc">%&gt;%</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">"Crime Type"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">V1 =</span> <span class="fu">round</span>(V1, <span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Kurtosis =</span> V1) <span class="sc">%&gt;%</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="heffcnpbel" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#heffcnpbel table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#heffcnpbel thead, #heffcnpbel tbody, #heffcnpbel tfoot, #heffcnpbel tr, #heffcnpbel td, #heffcnpbel th {
  border-style: none;
}

#heffcnpbel p {
  margin: 0;
  padding: 0;
}

#heffcnpbel .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#heffcnpbel .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#heffcnpbel .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#heffcnpbel .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#heffcnpbel .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#heffcnpbel .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#heffcnpbel .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#heffcnpbel .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#heffcnpbel .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#heffcnpbel .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#heffcnpbel .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#heffcnpbel .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#heffcnpbel .gt_spanner_row {
  border-bottom-style: hidden;
}

#heffcnpbel .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#heffcnpbel .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#heffcnpbel .gt_from_md > :first-child {
  margin-top: 0;
}

#heffcnpbel .gt_from_md > :last-child {
  margin-bottom: 0;
}

#heffcnpbel .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#heffcnpbel .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#heffcnpbel .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#heffcnpbel .gt_row_group_first td {
  border-top-width: 2px;
}

#heffcnpbel .gt_row_group_first th {
  border-top-width: 2px;
}

#heffcnpbel .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#heffcnpbel .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#heffcnpbel .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#heffcnpbel .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#heffcnpbel .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#heffcnpbel .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#heffcnpbel .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#heffcnpbel .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#heffcnpbel .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#heffcnpbel .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#heffcnpbel .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#heffcnpbel .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#heffcnpbel .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#heffcnpbel .gt_left {
  text-align: left;
}

#heffcnpbel .gt_center {
  text-align: center;
}

#heffcnpbel .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#heffcnpbel .gt_font_normal {
  font-weight: normal;
}

#heffcnpbel .gt_font_bold {
  font-weight: bold;
}

#heffcnpbel .gt_font_italic {
  font-style: italic;
}

#heffcnpbel .gt_super {
  font-size: 65%;
}

#heffcnpbel .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#heffcnpbel .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#heffcnpbel .gt_indent_1 {
  text-indent: 5px;
}

#heffcnpbel .gt_indent_2 {
  text-indent: 10px;
}

#heffcnpbel .gt_indent_3 {
  text-indent: 15px;
}

#heffcnpbel .gt_indent_4 {
  text-indent: 20px;
}

#heffcnpbel .gt_indent_5 {
  text-indent: 25px;
}

#heffcnpbel .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#heffcnpbel div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="Crime-Type" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Crime Type</th>
<th id="Kurtosis" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Kurtosis</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SEXUALES</td>
<td class="gt_row gt_right" headers="Kurtosis">72.03</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">EXTORSION</td>
<td class="gt_row gt_right" headers="Kurtosis">46.16</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">HOMICIDIO</td>
<td class="gt_row gt_right" headers="Kurtosis">23.72</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">HOMICIDIO_AT</td>
<td class="gt_row gt_right" headers="Kurtosis">21.82</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SEMOVIENTES</td>
<td class="gt_row gt_right" headers="Kurtosis">30.30</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">AUTOMOTORES</td>
<td class="gt_row gt_right" headers="Kurtosis">215.88</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">BANCOS</td>
<td class="gt_row gt_right" headers="Kurtosis">126.74</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">COMERCIO</td>
<td class="gt_row gt_right" headers="Kurtosis">49.10</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">MOTOCICLETAS</td>
<td class="gt_row gt_right" headers="Kurtosis">43.31</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">PERSONAS</td>
<td class="gt_row gt_right" headers="Kurtosis">74.70</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">PIRATERIA</td>
<td class="gt_row gt_right" headers="Kurtosis">60.53</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">RESIDENCIAS</td>
<td class="gt_row gt_right" headers="Kurtosis">54.49</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">LESIONES_AT</td>
<td class="gt_row gt_right" headers="Kurtosis">39.09</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">LESIONES</td>
<td class="gt_row gt_right" headers="Kurtosis">41.81</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SECUESTRO</td>
<td class="gt_row gt_right" headers="Kurtosis">22.93</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">TERRORISMO</td>
<td class="gt_row gt_right" headers="Kurtosis">139.89</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">INTRAFAMILIAR</td>
<td class="gt_row gt_right" headers="Kurtosis">83.90</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="coefficient-of-variation" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="coefficient-of-variation"><span class="header-section-number">1.4</span> Coefficient of Variation</h2>
<p>The coefficient of variation (CV) measures the relative variability of a dataset, expressed as a percentage. It is defined mathematically as:</p>
<p><span class="math inline">\(CV = \left( \frac{\sigma}{\bar{x}} \right) \times 100\)</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(( \sigma )\)</span>: Standard deviation of the data,</li>
<li><span class="math inline">\(( \bar{x} )\)</span>: Mean of the data.</li>
</ul>
<p>The coefficient of variation is particularly useful for comparing the variability of datasets with different units or widely different means. A lower CV indicates less variability relative to the mean, while a higher CV indicates greater variability.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Standard Deviation (SD)</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>delitos_data <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span> <span class="fu">sd</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">"Crime Type"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">V1 =</span> <span class="fu">round</span>(V1, <span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">SD =</span> V1) <span class="sc">%&gt;%</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="eeonmrvsej" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#eeonmrvsej table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#eeonmrvsej thead, #eeonmrvsej tbody, #eeonmrvsej tfoot, #eeonmrvsej tr, #eeonmrvsej td, #eeonmrvsej th {
  border-style: none;
}

#eeonmrvsej p {
  margin: 0;
  padding: 0;
}

#eeonmrvsej .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#eeonmrvsej .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#eeonmrvsej .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#eeonmrvsej .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#eeonmrvsej .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#eeonmrvsej .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eeonmrvsej .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#eeonmrvsej .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#eeonmrvsej .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#eeonmrvsej .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#eeonmrvsej .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#eeonmrvsej .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#eeonmrvsej .gt_spanner_row {
  border-bottom-style: hidden;
}

#eeonmrvsej .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#eeonmrvsej .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#eeonmrvsej .gt_from_md > :first-child {
  margin-top: 0;
}

#eeonmrvsej .gt_from_md > :last-child {
  margin-bottom: 0;
}

#eeonmrvsej .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#eeonmrvsej .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#eeonmrvsej .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#eeonmrvsej .gt_row_group_first td {
  border-top-width: 2px;
}

#eeonmrvsej .gt_row_group_first th {
  border-top-width: 2px;
}

#eeonmrvsej .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#eeonmrvsej .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#eeonmrvsej .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#eeonmrvsej .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eeonmrvsej .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#eeonmrvsej .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#eeonmrvsej .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#eeonmrvsej .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#eeonmrvsej .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eeonmrvsej .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#eeonmrvsej .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#eeonmrvsej .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#eeonmrvsej .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#eeonmrvsej .gt_left {
  text-align: left;
}

#eeonmrvsej .gt_center {
  text-align: center;
}

#eeonmrvsej .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#eeonmrvsej .gt_font_normal {
  font-weight: normal;
}

#eeonmrvsej .gt_font_bold {
  font-weight: bold;
}

#eeonmrvsej .gt_font_italic {
  font-style: italic;
}

#eeonmrvsej .gt_super {
  font-size: 65%;
}

#eeonmrvsej .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#eeonmrvsej .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#eeonmrvsej .gt_indent_1 {
  text-indent: 5px;
}

#eeonmrvsej .gt_indent_2 {
  text-indent: 10px;
}

#eeonmrvsej .gt_indent_3 {
  text-indent: 15px;
}

#eeonmrvsej .gt_indent_4 {
  text-indent: 20px;
}

#eeonmrvsej .gt_indent_5 {
  text-indent: 25px;
}

#eeonmrvsej .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#eeonmrvsej div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="Crime-Type" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Crime Type</th>
<th id="SD" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">SD</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SEXUALES</td>
<td class="gt_row gt_right" headers="SD">72.43</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">EXTORSION</td>
<td class="gt_row gt_right" headers="SD">28.30</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">HOMICIDIO</td>
<td class="gt_row gt_right" headers="SD">22.25</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">HOMICIDIO_AT</td>
<td class="gt_row gt_right" headers="SD">10.94</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SEMOVIENTES</td>
<td class="gt_row gt_right" headers="SD">1.96</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">AUTOMOTORES</td>
<td class="gt_row gt_right" headers="SD">41.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">BANCOS</td>
<td class="gt_row gt_right" headers="SD">0.27</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">COMERCIO</td>
<td class="gt_row gt_right" headers="SD">90.66</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">MOTOCICLETAS</td>
<td class="gt_row gt_right" headers="SD">92.74</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">PERSONAS</td>
<td class="gt_row gt_right" headers="SD">1051.71</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">PIRATERIA</td>
<td class="gt_row gt_right" headers="SD">0.52</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">RESIDENCIAS</td>
<td class="gt_row gt_right" headers="SD">60.10</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">LESIONES_AT</td>
<td class="gt_row gt_right" headers="SD">93.03</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">LESIONES</td>
<td class="gt_row gt_right" headers="SD">172.66</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SECUESTRO</td>
<td class="gt_row gt_right" headers="SD">0.80</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">TERRORISMO</td>
<td class="gt_row gt_right" headers="SD">0.91</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">INTRAFAMILIAR</td>
<td class="gt_row gt_right" headers="SD">369.14</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute statistics</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>mean_val <span class="ot">&lt;-</span> <span class="fu">mean</span>(delitos_data<span class="sc">$</span>AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mean_val)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8.995062</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>median_val <span class="ot">&lt;-</span> <span class="fu">median</span>(delitos_data<span class="sc">$</span>AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(median_val)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>std_dev <span class="ot">&lt;-</span> <span class="fu">sd</span>(delitos_data<span class="sc">$</span>AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(std_dev)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 41.00243</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the range for first standard deviation</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>lower_bound <span class="ot">&lt;-</span> mean_val <span class="sc">-</span> std_dev</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>upper_bound <span class="ot">&lt;-</span> mean_val <span class="sc">+</span> std_dev</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="fu">paste0</span>(<span class="st">'lower_bound: '</span>, <span class="fu">round</span>(lower_bound, <span class="dv">2</span>), <span class="st">' - upper_bound: '</span>, <span class="fu">round</span>(upper_bound, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "lower_bound: -32.01 - upper_bound: 50"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the number of points within 1 standard deviation</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>within_1sd <span class="ot">&lt;-</span> <span class="fu">sum</span>(delitos_data<span class="sc">$</span>AUTOMOTORES <span class="sc">&gt;=</span> lower_bound <span class="sc">&amp;</span> delitos_data<span class="sc">$</span>AUTOMOTORES <span class="sc">&lt;=</span> upper_bound, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>percentage_1sd <span class="ot">&lt;-</span> (within_1sd <span class="sc">/</span> <span class="fu">nrow</span>(delitos_data)) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="fu">paste0</span>(<span class="st">'within_1sd: '</span>, <span class="fu">round</span>(within_1sd, <span class="dv">2</span>), <span class="st">' - percentage_1sd: '</span>, <span class="fu">round</span>(percentage_1sd, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "within_1sd: 1168 - percentage_1sd: 96.13"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create histogram</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(delitos_data, <span class="fu">aes</span>(<span class="at">x =</span> AUTOMOTORES)) <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>, <span class="at">fill =</span> <span class="st">"blue"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add vertical lines for mean, median, and 1st SD</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> mean_val), <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_vline(aes(xintercept = median_val), color = "green", linetype = "dashed", size = 1.2) +</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> lower_bound), <span class="at">color =</span> <span class="st">"purple"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> upper_bound), <span class="at">color =</span> <span class="st">"purple"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Labels and title</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of AUTOMOTORES with Mean, and 1SD Range"</span>,</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"AUTOMOTORES Values"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>) <span class="sc">+</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add annotation for 1SD range</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> mean_val, <span class="at">y =</span> <span class="dv">10</span>, </span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">paste</span>(<span class="fu">round</span>(percentage_1sd, <span class="dv">2</span>), <span class="st">"% 1SD"</span>, <span class="at">sep =</span> <span class="st">""</span>), </span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1-Issue-for-Decision-Making_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># variation</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>delitos_data <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span>  <span class="co"># Select only numeric columns</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">everything</span>(),</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">ifelse</span>(<span class="fu">mean</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">!=</span> <span class="dv">0</span>, </span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>               <span class="fu">sd</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span> <span class="fu">mean</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>               <span class="cn">NA</span>),  <span class="co"># Compute CV safely</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">.names =</span> <span class="st">"{col}"</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>() <span class="sc">%&gt;%</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">"Crime Type"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">V1 =</span> <span class="fu">round</span>(V1, <span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Variation =</span> V1) <span class="sc">%&gt;%</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="dpobdsczhp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#dpobdsczhp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#dpobdsczhp thead, #dpobdsczhp tbody, #dpobdsczhp tfoot, #dpobdsczhp tr, #dpobdsczhp td, #dpobdsczhp th {
  border-style: none;
}

#dpobdsczhp p {
  margin: 0;
  padding: 0;
}

#dpobdsczhp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dpobdsczhp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dpobdsczhp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dpobdsczhp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dpobdsczhp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dpobdsczhp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dpobdsczhp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dpobdsczhp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dpobdsczhp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dpobdsczhp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dpobdsczhp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dpobdsczhp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dpobdsczhp .gt_spanner_row {
  border-bottom-style: hidden;
}

#dpobdsczhp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#dpobdsczhp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dpobdsczhp .gt_from_md > :first-child {
  margin-top: 0;
}

#dpobdsczhp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dpobdsczhp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dpobdsczhp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dpobdsczhp .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dpobdsczhp .gt_row_group_first td {
  border-top-width: 2px;
}

#dpobdsczhp .gt_row_group_first th {
  border-top-width: 2px;
}

#dpobdsczhp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dpobdsczhp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dpobdsczhp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dpobdsczhp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dpobdsczhp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dpobdsczhp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dpobdsczhp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#dpobdsczhp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dpobdsczhp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dpobdsczhp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dpobdsczhp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dpobdsczhp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dpobdsczhp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dpobdsczhp .gt_left {
  text-align: left;
}

#dpobdsczhp .gt_center {
  text-align: center;
}

#dpobdsczhp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dpobdsczhp .gt_font_normal {
  font-weight: normal;
}

#dpobdsczhp .gt_font_bold {
  font-weight: bold;
}

#dpobdsczhp .gt_font_italic {
  font-style: italic;
}

#dpobdsczhp .gt_super {
  font-size: 65%;
}

#dpobdsczhp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#dpobdsczhp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dpobdsczhp .gt_indent_1 {
  text-indent: 5px;
}

#dpobdsczhp .gt_indent_2 {
  text-indent: 10px;
}

#dpobdsczhp .gt_indent_3 {
  text-indent: 15px;
}

#dpobdsczhp .gt_indent_4 {
  text-indent: 20px;
}

#dpobdsczhp .gt_indent_5 {
  text-indent: 25px;
}

#dpobdsczhp .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#dpobdsczhp div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="Crime-Type" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Crime Type</th>
<th id="Variation" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Variation</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SEXUALES</td>
<td class="gt_row gt_right" headers="Variation">2.96</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">EXTORSION</td>
<td class="gt_row gt_right" headers="Variation">2.79</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">HOMICIDIO</td>
<td class="gt_row gt_right" headers="Variation">2.03</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">HOMICIDIO_AT</td>
<td class="gt_row gt_right" headers="Variation">1.94</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SEMOVIENTES</td>
<td class="gt_row gt_right" headers="Variation">2.34</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">AUTOMOTORES</td>
<td class="gt_row gt_right" headers="Variation">4.56</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">BANCOS</td>
<td class="gt_row gt_right" headers="Variation">6.45</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">COMERCIO</td>
<td class="gt_row gt_right" headers="Variation">3.15</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">MOTOCICLETAS</td>
<td class="gt_row gt_right" headers="Variation">2.99</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">PERSONAS</td>
<td class="gt_row gt_right" headers="Variation">4.16</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">PIRATERIA</td>
<td class="gt_row gt_right" headers="Variation">5.05</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">RESIDENCIAS</td>
<td class="gt_row gt_right" headers="Variation">2.57</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">LESIONES_AT</td>
<td class="gt_row gt_right" headers="Variation">2.44</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">LESIONES</td>
<td class="gt_row gt_right" headers="Variation">2.37</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SECUESTRO</td>
<td class="gt_row gt_right" headers="Variation">3.47</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">TERRORISMO</td>
<td class="gt_row gt_right" headers="Variation">6.03</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">INTRAFAMILIAR</td>
<td class="gt_row gt_right" headers="Variation">3.39</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="median-absolute-deviation-mad-and-madmedian" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="median-absolute-deviation-mad-and-madmedian"><span class="header-section-number">1.5</span> Median Absolute Deviation MAD and MAD/median</h2>
<p>The Median Absolute Deviation (MAD) is a robust measure of variability that quantifies the dispersion of a dataset. It is defined as the median of the absolute deviations from the median of the data:</p>
<p><span class="math inline">\(\text{MAD} = \text{median} \left( \left| x_i - \text{median}(x) \right| \right)\)</span></p>
<p>where:</p>
<ul>
<li>( x_i ): Individual data points,</li>
<li>( (x) ): Median of the data.</li>
</ul>
<p>The MAD/Median ratio is a normalized measure of dispersion, calculated as:</p>
<p><span class="math inline">\([
\text{MAD/Median} = \frac{\text{MAD}}{\text{median}(x)}
]\)</span></p>
<p>This ratio provides a scale-independent measure of variability, making it useful for comparing the dispersion of datasets with different units or scales. A higher MAD/Median ratio indicates greater relative variability.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># MAD</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>delitos_data <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span> <span class="fu">mad</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>() <span class="sc">%&gt;%</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">"Crime Type"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">V1 =</span> <span class="fu">round</span>(V1, <span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">MAD =</span> V1) <span class="sc">%&gt;%</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htaiymyflx" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#htaiymyflx table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#htaiymyflx thead, #htaiymyflx tbody, #htaiymyflx tfoot, #htaiymyflx tr, #htaiymyflx td, #htaiymyflx th {
  border-style: none;
}

#htaiymyflx p {
  margin: 0;
  padding: 0;
}

#htaiymyflx .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#htaiymyflx .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#htaiymyflx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#htaiymyflx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#htaiymyflx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#htaiymyflx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#htaiymyflx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#htaiymyflx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#htaiymyflx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#htaiymyflx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#htaiymyflx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#htaiymyflx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#htaiymyflx .gt_spanner_row {
  border-bottom-style: hidden;
}

#htaiymyflx .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#htaiymyflx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#htaiymyflx .gt_from_md > :first-child {
  margin-top: 0;
}

#htaiymyflx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#htaiymyflx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#htaiymyflx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#htaiymyflx .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#htaiymyflx .gt_row_group_first td {
  border-top-width: 2px;
}

#htaiymyflx .gt_row_group_first th {
  border-top-width: 2px;
}

#htaiymyflx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#htaiymyflx .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#htaiymyflx .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#htaiymyflx .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#htaiymyflx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#htaiymyflx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#htaiymyflx .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#htaiymyflx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#htaiymyflx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#htaiymyflx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#htaiymyflx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#htaiymyflx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#htaiymyflx .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#htaiymyflx .gt_left {
  text-align: left;
}

#htaiymyflx .gt_center {
  text-align: center;
}

#htaiymyflx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#htaiymyflx .gt_font_normal {
  font-weight: normal;
}

#htaiymyflx .gt_font_bold {
  font-weight: bold;
}

#htaiymyflx .gt_font_italic {
  font-style: italic;
}

#htaiymyflx .gt_super {
  font-size: 65%;
}

#htaiymyflx .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#htaiymyflx .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#htaiymyflx .gt_indent_1 {
  text-indent: 5px;
}

#htaiymyflx .gt_indent_2 {
  text-indent: 10px;
}

#htaiymyflx .gt_indent_3 {
  text-indent: 15px;
}

#htaiymyflx .gt_indent_4 {
  text-indent: 20px;
}

#htaiymyflx .gt_indent_5 {
  text-indent: 25px;
}

#htaiymyflx .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#htaiymyflx div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="Crime-Type" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Crime Type</th>
<th id="MAD" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">MAD</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SEXUALES</td>
<td class="gt_row gt_right" headers="MAD">7.41</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">EXTORSION</td>
<td class="gt_row gt_right" headers="MAD">2.97</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">HOMICIDIO</td>
<td class="gt_row gt_right" headers="MAD">4.45</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">HOMICIDIO_AT</td>
<td class="gt_row gt_right" headers="MAD">2.97</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SEMOVIENTES</td>
<td class="gt_row gt_right" headers="MAD">0.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">AUTOMOTORES</td>
<td class="gt_row gt_right" headers="MAD">0.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">BANCOS</td>
<td class="gt_row gt_right" headers="MAD">0.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">COMERCIO</td>
<td class="gt_row gt_right" headers="MAD">5.93</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">MOTOCICLETAS</td>
<td class="gt_row gt_right" headers="MAD">4.45</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">PERSONAS</td>
<td class="gt_row gt_right" headers="MAD">13.34</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">PIRATERIA</td>
<td class="gt_row gt_right" headers="MAD">0.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">RESIDENCIAS</td>
<td class="gt_row gt_right" headers="MAD">5.93</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">LESIONES_AT</td>
<td class="gt_row gt_right" headers="MAD">7.41</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">LESIONES</td>
<td class="gt_row gt_right" headers="MAD">19.27</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SECUESTRO</td>
<td class="gt_row gt_right" headers="MAD">0.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">TERRORISMO</td>
<td class="gt_row gt_right" headers="MAD">0.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">INTRAFAMILIAR</td>
<td class="gt_row gt_right" headers="MAD">17.79</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute statistics</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>mad_val <span class="ot">&lt;-</span> <span class="fu">mad</span>(delitos_data<span class="sc">$</span>AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)  <span class="co"># Compute MAD</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mad_val)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the range for first standard deviation</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>lower_bound <span class="ot">&lt;-</span> median_val <span class="sc">-</span> mad_val</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>upper_bound <span class="ot">&lt;-</span> median_val <span class="sc">+</span> mad_val</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="fu">paste0</span>(<span class="st">'lower_bound: '</span>, <span class="fu">round</span>(lower_bound, <span class="dv">2</span>), <span class="st">' - upper_bound: '</span>, <span class="fu">round</span>(upper_bound, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "lower_bound: 0 - upper_bound: 0"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the number of points within 1 MAD</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>within_1mad <span class="ot">&lt;-</span> <span class="fu">sum</span>(delitos_data<span class="sc">$</span>AUTOMOTORES <span class="sc">&gt;=</span> lower_bound <span class="sc">&amp;</span> delitos_data<span class="sc">$</span>AUTOMOTORES <span class="sc">&lt;=</span> upper_bound, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>percentage_1mad <span class="ot">&lt;-</span> (within_1mad <span class="sc">/</span> <span class="fu">nrow</span>(delitos_data)) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="fu">paste0</span>(<span class="st">'within_1mad: '</span>, <span class="fu">round</span>(within_1mad, <span class="dv">2</span>), <span class="st">' - percentage_1mad: '</span>, <span class="fu">round</span>(percentage_1mad, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "within_1mad: 636 - percentage_1mad: 52.35"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create histogram</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(delitos_data, <span class="fu">aes</span>(<span class="at">x =</span> AUTOMOTORES)) <span class="sc">+</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>, <span class="at">fill =</span> <span class="st">"blue"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add vertical lines for mean, median, and 1st SD</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_vline(aes(xintercept = mean_val), color = "red", linetype = "dashed", size = 1.2) +</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> median_val), <span class="at">color =</span> <span class="st">"green"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> lower_bound), <span class="at">color =</span> <span class="st">"purple"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> upper_bound), <span class="at">color =</span> <span class="st">"purple"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Labels and title</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of AUTOMOTORES with Median, and 1MAD Range"</span>,</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"AUTOMOTORES Values"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>) <span class="sc">+</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add annotation for 1SD range</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> median_val, <span class="at">y =</span> <span class="dv">10</span>, </span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">paste</span>(within_1mad, <span class="st">"points ("</span>, <span class="fu">round</span>(percentage_1mad, <span class="dv">2</span>), <span class="st">"%) 1MAD"</span>, <span class="at">sep =</span> <span class="st">""</span>), </span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">5</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1-Issue-for-Decision-Making_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># MAD/Median</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>delitos_data <span class="sc">%&gt;%</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span> <span class="fu">ifelse</span>(</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">median</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">!=</span> <span class="dv">0</span>,</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mad</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span> <span class="fu">median</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    <span class="cn">NA</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  ))) <span class="sc">%&gt;%</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>() <span class="sc">%&gt;%</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">"Crime Type"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">V1 =</span> <span class="fu">round</span>(V1, <span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">`</span><span class="at">MAD/Median</span><span class="st">`</span> <span class="ot">=</span> V1) <span class="sc">%&gt;%</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="ioqrydzips" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ioqrydzips table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ioqrydzips thead, #ioqrydzips tbody, #ioqrydzips tfoot, #ioqrydzips tr, #ioqrydzips td, #ioqrydzips th {
  border-style: none;
}

#ioqrydzips p {
  margin: 0;
  padding: 0;
}

#ioqrydzips .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ioqrydzips .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ioqrydzips .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ioqrydzips .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ioqrydzips .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ioqrydzips .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ioqrydzips .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ioqrydzips .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ioqrydzips .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ioqrydzips .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ioqrydzips .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ioqrydzips .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ioqrydzips .gt_spanner_row {
  border-bottom-style: hidden;
}

#ioqrydzips .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ioqrydzips .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ioqrydzips .gt_from_md > :first-child {
  margin-top: 0;
}

#ioqrydzips .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ioqrydzips .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ioqrydzips .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ioqrydzips .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ioqrydzips .gt_row_group_first td {
  border-top-width: 2px;
}

#ioqrydzips .gt_row_group_first th {
  border-top-width: 2px;
}

#ioqrydzips .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ioqrydzips .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ioqrydzips .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ioqrydzips .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ioqrydzips .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ioqrydzips .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ioqrydzips .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ioqrydzips .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ioqrydzips .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ioqrydzips .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ioqrydzips .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ioqrydzips .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ioqrydzips .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ioqrydzips .gt_left {
  text-align: left;
}

#ioqrydzips .gt_center {
  text-align: center;
}

#ioqrydzips .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ioqrydzips .gt_font_normal {
  font-weight: normal;
}

#ioqrydzips .gt_font_bold {
  font-weight: bold;
}

#ioqrydzips .gt_font_italic {
  font-style: italic;
}

#ioqrydzips .gt_super {
  font-size: 65%;
}

#ioqrydzips .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ioqrydzips .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ioqrydzips .gt_indent_1 {
  text-indent: 5px;
}

#ioqrydzips .gt_indent_2 {
  text-indent: 10px;
}

#ioqrydzips .gt_indent_3 {
  text-indent: 15px;
}

#ioqrydzips .gt_indent_4 {
  text-indent: 20px;
}

#ioqrydzips .gt_indent_5 {
  text-indent: 25px;
}

#ioqrydzips .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ioqrydzips div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="Crime-Type" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Crime Type</th>
<th id="MAD/Median" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">MAD/Median</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SEXUALES</td>
<td class="gt_row gt_right" headers="MAD/Median">1.24</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">EXTORSION</td>
<td class="gt_row gt_right" headers="MAD/Median">1.48</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">HOMICIDIO</td>
<td class="gt_row gt_right" headers="MAD/Median">1.48</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">HOMICIDIO_AT</td>
<td class="gt_row gt_right" headers="MAD/Median">1.48</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SEMOVIENTES</td>
<td class="gt_row gt_right" headers="MAD/Median">NA</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">AUTOMOTORES</td>
<td class="gt_row gt_right" headers="MAD/Median">NA</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">BANCOS</td>
<td class="gt_row gt_right" headers="MAD/Median">NA</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">COMERCIO</td>
<td class="gt_row gt_right" headers="MAD/Median">1.48</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">MOTOCICLETAS</td>
<td class="gt_row gt_right" headers="MAD/Median">1.48</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">PERSONAS</td>
<td class="gt_row gt_right" headers="MAD/Median">1.33</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">PIRATERIA</td>
<td class="gt_row gt_right" headers="MAD/Median">NA</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">RESIDENCIAS</td>
<td class="gt_row gt_right" headers="MAD/Median">1.48</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">LESIONES_AT</td>
<td class="gt_row gt_right" headers="MAD/Median">1.48</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">LESIONES</td>
<td class="gt_row gt_right" headers="MAD/Median">1.13</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">SECUESTRO</td>
<td class="gt_row gt_right" headers="MAD/Median">NA</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Crime Type">TERRORISMO</td>
<td class="gt_row gt_right" headers="MAD/Median">NA</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Crime Type">INTRAFAMILIAR</td>
<td class="gt_row gt_right" headers="MAD/Median">1.27</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>delitos_data <span class="sc">%&gt;%</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEMOVIENTES, AUTOMOTORES, BANCOS, PIRATERIA) <span class="sc">%&gt;%</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  SEMOVIENTES      AUTOMOTORES          BANCOS          PIRATERIA     
 Min.   : 0.000   Min.   :  0.000   Min.   :0.00000   Min.   :0.0000  
 1st Qu.: 0.000   1st Qu.:  0.000   1st Qu.:0.00000   1st Qu.:0.0000  
 Median : 0.000   Median :  0.000   Median :0.00000   Median :0.0000  
 Mean   : 0.837   Mean   :  8.995   Mean   :0.04197   Mean   :0.1029  
 3rd Qu.: 1.000   3rd Qu.:  3.000   3rd Qu.:0.00000   3rd Qu.:0.0000  
 Max.   :22.000   Max.   :909.000   Max.   :5.00000   Max.   :7.0000  </code></pre>
</div>
</div>
</section>
<section id="covariance-matrix" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="covariance-matrix"><span class="header-section-number">1.6</span> Covariance Matrix</h2>
<p>The covariance matrix <span class="math inline">\(( \Sigma )\)</span> captures the pairwise covariances between variables in a dataset. For a dataset <span class="math inline">\(( X )\)</span> with <span class="math inline">\(( n )\)</span> observations and <span class="math inline">\(( p )\)</span> variables, the covariance matrix is defined as:</p>
<p><span class="math inline">\(\Sigma = \frac{1}{n-1} (X - \bar{X})^\top (X - \bar{X})\)</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(( X )\)</span> is the <span class="math inline">\(( n \times p )\)</span> data matrix.</li>
<li><span class="math inline">\(( \bar{X} )\)</span> is the <span class="math inline">\(( n \times p )\)</span> matrix of column means.</li>
<li><span class="math inline">\(( \Sigma )\)</span> is a <span class="math inline">\(( p \times p )\)</span> symmetric matrix.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>delitos_data <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cov</span>() <span class="sc">%&gt;%</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">2</span>, <span class="at">caption =</span> <span class="st">"Covariance Matrix"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Covariance Matrix</caption>
<colgroup>
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">SEXUALES</th>
<th style="text-align: right;">EXTORSION</th>
<th style="text-align: right;">HOMICIDIO</th>
<th style="text-align: right;">HOMICIDIO_AT</th>
<th style="text-align: right;">SEMOVIENTES</th>
<th style="text-align: right;">AUTOMOTORES</th>
<th style="text-align: right;">BANCOS</th>
<th style="text-align: right;">COMERCIO</th>
<th style="text-align: right;">MOTOCICLETAS</th>
<th style="text-align: right;">PERSONAS</th>
<th style="text-align: right;">PIRATERIA</th>
<th style="text-align: right;">RESIDENCIAS</th>
<th style="text-align: right;">LESIONES_AT</th>
<th style="text-align: right;">LESIONES</th>
<th style="text-align: right;">SECUESTRO</th>
<th style="text-align: right;">TERRORISMO</th>
<th style="text-align: right;">INTRAFAMILIAR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">SEXUALES</td>
<td style="text-align: right;">5245.72</td>
<td style="text-align: right;">1647.53</td>
<td style="text-align: right;">973.44</td>
<td style="text-align: right;">501.87</td>
<td style="text-align: right;">9.32</td>
<td style="text-align: right;">2170.72</td>
<td style="text-align: right;">4.13</td>
<td style="text-align: right;">5553.54</td>
<td style="text-align: right;">4625.19</td>
<td style="text-align: right;">66702.25</td>
<td style="text-align: right;">9.08</td>
<td style="text-align: right;">3594.88</td>
<td style="text-align: right;">4087.33</td>
<td style="text-align: right;">11454.53</td>
<td style="text-align: right;">10.47</td>
<td style="text-align: right;">4.41</td>
<td style="text-align: right;">25408.32</td>
</tr>
<tr class="even">
<td style="text-align: left;">EXTORSION</td>
<td style="text-align: right;">1647.53</td>
<td style="text-align: right;">800.74</td>
<td style="text-align: right;">395.31</td>
<td style="text-align: right;">199.33</td>
<td style="text-align: right;">5.89</td>
<td style="text-align: right;">756.75</td>
<td style="text-align: right;">1.87</td>
<td style="text-align: right;">2048.55</td>
<td style="text-align: right;">1887.49</td>
<td style="text-align: right;">23385.96</td>
<td style="text-align: right;">3.67</td>
<td style="text-align: right;">1274.49</td>
<td style="text-align: right;">1555.36</td>
<td style="text-align: right;">3804.40</td>
<td style="text-align: right;">4.85</td>
<td style="text-align: right;">3.11</td>
<td style="text-align: right;">7984.87</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HOMICIDIO</td>
<td style="text-align: right;">973.44</td>
<td style="text-align: right;">395.31</td>
<td style="text-align: right;">494.94</td>
<td style="text-align: right;">147.42</td>
<td style="text-align: right;">4.87</td>
<td style="text-align: right;">421.53</td>
<td style="text-align: right;">1.46</td>
<td style="text-align: right;">1008.74</td>
<td style="text-align: right;">1276.84</td>
<td style="text-align: right;">10394.24</td>
<td style="text-align: right;">3.17</td>
<td style="text-align: right;">712.49</td>
<td style="text-align: right;">1149.44</td>
<td style="text-align: right;">2633.38</td>
<td style="text-align: right;">5.80</td>
<td style="text-align: right;">5.18</td>
<td style="text-align: right;">4797.58</td>
</tr>
<tr class="even">
<td style="text-align: left;">HOMICIDIO_AT</td>
<td style="text-align: right;">501.87</td>
<td style="text-align: right;">199.33</td>
<td style="text-align: right;">147.42</td>
<td style="text-align: right;">119.60</td>
<td style="text-align: right;">4.20</td>
<td style="text-align: right;">229.82</td>
<td style="text-align: right;">0.73</td>
<td style="text-align: right;">676.62</td>
<td style="text-align: right;">772.08</td>
<td style="text-align: right;">6793.46</td>
<td style="text-align: right;">1.01</td>
<td style="text-align: right;">466.50</td>
<td style="text-align: right;">762.05</td>
<td style="text-align: right;">1384.22</td>
<td style="text-align: right;">2.38</td>
<td style="text-align: right;">1.68</td>
<td style="text-align: right;">2480.35</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SEMOVIENTES</td>
<td style="text-align: right;">9.32</td>
<td style="text-align: right;">5.89</td>
<td style="text-align: right;">4.87</td>
<td style="text-align: right;">4.20</td>
<td style="text-align: right;">3.84</td>
<td style="text-align: right;">-0.66</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">13.51</td>
<td style="text-align: right;">22.42</td>
<td style="text-align: right;">20.65</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">18.43</td>
<td style="text-align: right;">29.34</td>
<td style="text-align: right;">48.95</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.20</td>
<td style="text-align: right;">27.92</td>
</tr>
<tr class="even">
<td style="text-align: left;">AUTOMOTORES</td>
<td style="text-align: right;">2170.72</td>
<td style="text-align: right;">756.75</td>
<td style="text-align: right;">421.53</td>
<td style="text-align: right;">229.82</td>
<td style="text-align: right;">-0.66</td>
<td style="text-align: right;">1681.20</td>
<td style="text-align: right;">1.37</td>
<td style="text-align: right;">2591.98</td>
<td style="text-align: right;">2642.33</td>
<td style="text-align: right;">31685.84</td>
<td style="text-align: right;">4.34</td>
<td style="text-align: right;">1725.82</td>
<td style="text-align: right;">1797.18</td>
<td style="text-align: right;">5243.67</td>
<td style="text-align: right;">6.23</td>
<td style="text-align: right;">0.89</td>
<td style="text-align: right;">11373.40</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BANCOS</td>
<td style="text-align: right;">4.13</td>
<td style="text-align: right;">1.87</td>
<td style="text-align: right;">1.46</td>
<td style="text-align: right;">0.73</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.37</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">7.26</td>
<td style="text-align: right;">4.71</td>
<td style="text-align: right;">75.05</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">3.72</td>
<td style="text-align: right;">4.97</td>
<td style="text-align: right;">10.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">19.17</td>
</tr>
<tr class="even">
<td style="text-align: left;">COMERCIO</td>
<td style="text-align: right;">5553.54</td>
<td style="text-align: right;">2048.55</td>
<td style="text-align: right;">1008.74</td>
<td style="text-align: right;">676.62</td>
<td style="text-align: right;">13.51</td>
<td style="text-align: right;">2591.98</td>
<td style="text-align: right;">7.26</td>
<td style="text-align: right;">8219.96</td>
<td style="text-align: right;">5519.98</td>
<td style="text-align: right;">90565.64</td>
<td style="text-align: right;">9.43</td>
<td style="text-align: right;">4887.68</td>
<td style="text-align: right;">5735.23</td>
<td style="text-align: right;">13220.48</td>
<td style="text-align: right;">11.93</td>
<td style="text-align: right;">11.31</td>
<td style="text-align: right;">27094.99</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MOTOCICLETAS</td>
<td style="text-align: right;">4625.19</td>
<td style="text-align: right;">1887.49</td>
<td style="text-align: right;">1276.84</td>
<td style="text-align: right;">772.08</td>
<td style="text-align: right;">22.42</td>
<td style="text-align: right;">2642.33</td>
<td style="text-align: right;">4.71</td>
<td style="text-align: right;">5519.98</td>
<td style="text-align: right;">8601.05</td>
<td style="text-align: right;">60061.43</td>
<td style="text-align: right;">7.49</td>
<td style="text-align: right;">3834.72</td>
<td style="text-align: right;">5436.54</td>
<td style="text-align: right;">12391.01</td>
<td style="text-align: right;">21.66</td>
<td style="text-align: right;">12.37</td>
<td style="text-align: right;">23973.02</td>
</tr>
<tr class="even">
<td style="text-align: left;">PERSONAS</td>
<td style="text-align: right;">66702.25</td>
<td style="text-align: right;">23385.96</td>
<td style="text-align: right;">10394.24</td>
<td style="text-align: right;">6793.46</td>
<td style="text-align: right;">20.65</td>
<td style="text-align: right;">31685.84</td>
<td style="text-align: right;">75.05</td>
<td style="text-align: right;">90565.64</td>
<td style="text-align: right;">60061.43</td>
<td style="text-align: right;">1106101.85</td>
<td style="text-align: right;">108.31</td>
<td style="text-align: right;">53080.88</td>
<td style="text-align: right;">57018.65</td>
<td style="text-align: right;">148103.58</td>
<td style="text-align: right;">115.17</td>
<td style="text-align: right;">56.02</td>
<td style="text-align: right;">329120.56</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PIRATERIA</td>
<td style="text-align: right;">9.08</td>
<td style="text-align: right;">3.67</td>
<td style="text-align: right;">3.17</td>
<td style="text-align: right;">1.01</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">4.34</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">9.43</td>
<td style="text-align: right;">7.49</td>
<td style="text-align: right;">108.31</td>
<td style="text-align: right;">0.27</td>
<td style="text-align: right;">5.94</td>
<td style="text-align: right;">6.68</td>
<td style="text-align: right;">20.87</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">47.37</td>
</tr>
<tr class="even">
<td style="text-align: left;">RESIDENCIAS</td>
<td style="text-align: right;">3594.88</td>
<td style="text-align: right;">1274.49</td>
<td style="text-align: right;">712.49</td>
<td style="text-align: right;">466.50</td>
<td style="text-align: right;">18.43</td>
<td style="text-align: right;">1725.82</td>
<td style="text-align: right;">3.72</td>
<td style="text-align: right;">4887.68</td>
<td style="text-align: right;">3834.72</td>
<td style="text-align: right;">53080.88</td>
<td style="text-align: right;">5.94</td>
<td style="text-align: right;">3612.05</td>
<td style="text-align: right;">4113.16</td>
<td style="text-align: right;">9259.02</td>
<td style="text-align: right;">7.20</td>
<td style="text-align: right;">6.29</td>
<td style="text-align: right;">18588.80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LESIONES_AT</td>
<td style="text-align: right;">4087.33</td>
<td style="text-align: right;">1555.36</td>
<td style="text-align: right;">1149.44</td>
<td style="text-align: right;">762.05</td>
<td style="text-align: right;">29.34</td>
<td style="text-align: right;">1797.18</td>
<td style="text-align: right;">4.97</td>
<td style="text-align: right;">5735.23</td>
<td style="text-align: right;">5436.54</td>
<td style="text-align: right;">57018.65</td>
<td style="text-align: right;">6.68</td>
<td style="text-align: right;">4113.16</td>
<td style="text-align: right;">8655.07</td>
<td style="text-align: right;">12373.91</td>
<td style="text-align: right;">11.20</td>
<td style="text-align: right;">10.05</td>
<td style="text-align: right;">21024.68</td>
</tr>
<tr class="even">
<td style="text-align: left;">LESIONES</td>
<td style="text-align: right;">11454.53</td>
<td style="text-align: right;">3804.40</td>
<td style="text-align: right;">2633.38</td>
<td style="text-align: right;">1384.22</td>
<td style="text-align: right;">48.95</td>
<td style="text-align: right;">5243.67</td>
<td style="text-align: right;">10.01</td>
<td style="text-align: right;">13220.48</td>
<td style="text-align: right;">12391.01</td>
<td style="text-align: right;">148103.58</td>
<td style="text-align: right;">20.87</td>
<td style="text-align: right;">9259.02</td>
<td style="text-align: right;">12373.91</td>
<td style="text-align: right;">29813.00</td>
<td style="text-align: right;">26.01</td>
<td style="text-align: right;">18.59</td>
<td style="text-align: right;">58640.02</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SECUESTRO</td>
<td style="text-align: right;">10.47</td>
<td style="text-align: right;">4.85</td>
<td style="text-align: right;">5.80</td>
<td style="text-align: right;">2.38</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">6.23</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">11.93</td>
<td style="text-align: right;">21.66</td>
<td style="text-align: right;">115.17</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">7.20</td>
<td style="text-align: right;">11.20</td>
<td style="text-align: right;">26.01</td>
<td style="text-align: right;">0.63</td>
<td style="text-align: right;">0.20</td>
<td style="text-align: right;">40.73</td>
</tr>
<tr class="even">
<td style="text-align: left;">TERRORISMO</td>
<td style="text-align: right;">4.41</td>
<td style="text-align: right;">3.11</td>
<td style="text-align: right;">5.18</td>
<td style="text-align: right;">1.68</td>
<td style="text-align: right;">0.20</td>
<td style="text-align: right;">0.89</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">11.31</td>
<td style="text-align: right;">12.37</td>
<td style="text-align: right;">56.02</td>
<td style="text-align: right;">-0.01</td>
<td style="text-align: right;">6.29</td>
<td style="text-align: right;">10.05</td>
<td style="text-align: right;">18.59</td>
<td style="text-align: right;">0.20</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: right;">11.26</td>
</tr>
<tr class="odd">
<td style="text-align: left;">INTRAFAMILIAR</td>
<td style="text-align: right;">25408.32</td>
<td style="text-align: right;">7984.87</td>
<td style="text-align: right;">4797.58</td>
<td style="text-align: right;">2480.35</td>
<td style="text-align: right;">27.92</td>
<td style="text-align: right;">11373.40</td>
<td style="text-align: right;">19.17</td>
<td style="text-align: right;">27094.99</td>
<td style="text-align: right;">23973.02</td>
<td style="text-align: right;">329120.56</td>
<td style="text-align: right;">47.37</td>
<td style="text-align: right;">18588.80</td>
<td style="text-align: right;">21024.68</td>
<td style="text-align: right;">58640.02</td>
<td style="text-align: right;">40.73</td>
<td style="text-align: right;">11.26</td>
<td style="text-align: right;">136261.92</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="covariance-matrix-of-log-transformed-data" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="covariance-matrix-of-log-transformed-data"><span class="header-section-number">1.7</span> Covariance Matrix of Log-Transformed Data</h2>
<p>To handle skewed data or reduce the impact of outliers, we apply a log transformation to the data. Let <span class="math inline">\(( Y = \log(X + 1) )\)</span>, where <span class="math inline">\(( \log )\)</span> is applied element-wise and <span class="math inline">\(( 1 )\)</span> is a matrix of ones to handle zeros. The log-transformed covariance matrix <span class="math inline">\(( \Sigma_{\text{log}} )\)</span> is:</p>
<p><span class="math inline">\(\Sigma_{\text{log}} = \frac{1}{n-1} (Y - \bar{Y})^\top (Y - \bar{Y})\)</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(( Y )\)</span> is the <span class="math inline">\(( n \times p )\)</span> log-transformed data matrix.</li>
<li><span class="math inline">\(( \bar{Y} )\)</span> is the <span class="math inline">\(( n \times p )\)</span> matrix of column means of <span class="math inline">\(( Y )\)</span>.</li>
</ul>
<p>We are going to begin by understanding log transformation, a key tool for handling multiplicative relationships in data.</p>
<ul>
<li>Compresses large values to reduce skewness.</li>
<li>Converts multiplicative relationships into additive ones.</li>
<li>Eases interpretation when values span multiple orders of magnitude.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the dataset</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> delitos_data<span class="sc">$</span>AUTOMOTORES</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Compute Raw Arithmetic Mean</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>arithmetic_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(x)</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(arithmetic_mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8.995062</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Compute Log-Mean (Multiplicative Center)</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>log_x <span class="ot">&lt;-</span> <span class="fu">log</span>(x <span class="sc">+</span> <span class="dv">1</span>)  <span class="co"># Take logarithm of values</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(log_x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.000000 0.000000 2.197225 0.000000 0.000000 0.000000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>log_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(log_x)  <span class="co"># Compute mean in log-space</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(log_mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8704057</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>log_mean_exp <span class="ot">&lt;-</span> <span class="fu">exp</span>(log_mean)  <span class="co"># Convert back to original scale</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(log_mean_exp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.387879</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the comparison table</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>comparison_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Index =</span> <span class="fu">seq_along</span>(x),  <span class="co"># Just an index for x-axis</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Original_Value =</span> x,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Log_Value =</span> log_x</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(comparison_table, <span class="fu">aes</span>(<span class="at">x =</span> Original_Value, <span class="at">y =</span> Log_Value)) <span class="sc">+</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"gray70"</span>, <span class="at">size =</span> <span class="fl">0.7</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span>  <span class="co"># Thin line connecting points</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">color =</span> <span class="st">"blue"</span>) <span class="sc">+</span>  <span class="co"># Scatter points with transparency</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Scatter Plot: Original vs. Log-Transformed Values"</span>,</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Original Values"</span>,</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Log-Transformed Values"</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Add marginal histogram</span></span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a><span class="fu">ggMarginal</span>(</span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>  p1,</span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"histogram"</span>,         <span class="co"># Add marginal histograms</span></span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">bins =</span> <span class="dv">40</span>,                  <span class="co"># Number of bins for the histogram</span></span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">margins =</span> <span class="st">"both"</span>,           <span class="co"># Add histogram to both x and y margins</span></span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">size =</span> <span class="dv">5</span>,                   <span class="co"># Size of the histograms relative to the scatter plot</span></span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">fill =</span> <span class="st">"gray"</span>,              <span class="co"># Fill color for the histogram</span></span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="st">"black"</span>,            <span class="co"># Outline color for the histogram</span></span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha =</span> <span class="fl">0.5</span>                 <span class="co"># Transparency</span></span>
<span id="cb47-28"><a href="#cb47-28" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1-Issue-for-Decision-Making_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Euler steps describe how many multiplicative steps of <span class="math inline">\(( e )\)</span> are needed to reach a given value.</p>
<p>For example, in our dataset:</p>
<ul>
<li>Original Values: 0, 0, 8, 0, 0, 0<br>
</li>
<li>Log Values: 0, 0, 2.2, 0, 0, 0</li>
</ul>
<p>Each log-transformed value represents the number of times we need to multiply 1 by <span class="math inline">\(( e )\)</span> to reach the original value:</p>
<p><span class="math inline">\(e^ \text{Log Values} = \text{Original Value}\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co">#log transformed data</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute statistics for raw and log-transformed data</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>mean_raw <span class="ot">&lt;-</span> <span class="fu">mean</span>(delitos_data<span class="sc">$</span>AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>sd_raw <span class="ot">&lt;-</span> <span class="fu">sd</span>(delitos_data<span class="sc">$</span>AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>mad_raw <span class="ot">&lt;-</span> <span class="fu">mad</span>(delitos_data<span class="sc">$</span>AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>delitos_data_log <span class="ot">&lt;-</span> delitos_data <span class="sc">%&gt;%</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mutate(LOG_AUTOMOTORES = log(AUTOMOTORES + 1))</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">LOG_AUTOMOTORES =</span> <span class="fu">log1p</span>(AUTOMOTORES))  <span class="co"># log1p(x) = log(1 + x) to handle zeros</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>mean_log <span class="ot">&lt;-</span> <span class="fu">mean</span>(delitos_data_log<span class="sc">$</span>LOG_AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>sd_log <span class="ot">&lt;-</span> <span class="fu">sd</span>(delitos_data_log<span class="sc">$</span>LOG_AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>mad_log <span class="ot">&lt;-</span> <span class="fu">mad</span>(delitos_data_log<span class="sc">$</span>LOG_AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute statistics for raw and log-transformed data</span></span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(</span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">Measure =</span> <span class="fu">c</span>(<span class="st">"Mean"</span>, <span class="st">"Median"</span>, <span class="st">"Standard Deviation"</span>, <span class="st">"MAD"</span>),</span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">Raw_Data =</span> <span class="fu">c</span>(<span class="fu">mean</span>(delitos_data<span class="sc">$</span>AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>               <span class="fu">median</span>(delitos_data<span class="sc">$</span>AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a>               <span class="fu">sd</span>(delitos_data<span class="sc">$</span>AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a>               <span class="fu">mad</span>(delitos_data<span class="sc">$</span>AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">Log_Transformed_Data =</span> <span class="fu">c</span>(<span class="fu">mean</span>(delitos_data_log<span class="sc">$</span>LOG_AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb48-23"><a href="#cb48-23" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">median</span>(delitos_data_log<span class="sc">$</span>LOG_AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb48-24"><a href="#cb48-24" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">sd</span>(delitos_data_log<span class="sc">$</span>LOG_AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb48-25"><a href="#cb48-25" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">mad</span>(delitos_data_log<span class="sc">$</span>LOG_AUTOMOTORES, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             Measure  Raw_Data Log_Transformed_Data
1               Mean  8.995062            0.8704057
2             Median  0.000000            0.0000000
3 Standard Deviation 41.002431            1.2636464
4                MAD  0.000000            0.0000000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform the data to a long format for ggplot</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>delitos_long <span class="ot">&lt;-</span> delitos_data <span class="sc">%&gt;%</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span>  <span class="co"># Select only numeric columns</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">"Crime Type"</span>, <span class="at">values_to =</span> <span class="st">"Value"</span>)</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create faceted histograms</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(delitos_long, <span class="fu">aes</span>(<span class="at">x =</span> Value)) <span class="sc">+</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> <span class="st">`</span><span class="at">Crime Type</span><span class="st">`</span>, <span class="at">scales =</span> <span class="st">"free"</span>) <span class="sc">+</span>  <span class="co"># Facet by crime type</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distributions of Crime Data"</span>,</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Frequency"</span></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">5</span>)  <span class="co"># Reduce the font size of X-axis text</span></span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1-Issue-for-Decision-Making_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform the data to long format and apply log transformation</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>delitos_long_log <span class="ot">&lt;-</span> delitos_data <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span> <span class="fu">log</span>(.x), <span class="at">.names =</span> <span class="st">"{col}"</span>)) <span class="sc">%&gt;%</span>  <span class="co"># Log transform (log(x + 1) to avoid log(0))</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">"Crime Type"</span>, <span class="at">values_to =</span> <span class="st">"Log Value"</span>)</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create faceted histograms for log-transformed values</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(delitos_long_log, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Log Value</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> <span class="st">`</span><span class="at">Crime Type</span><span class="st">`</span>, <span class="at">scales =</span> <span class="st">"free"</span>) <span class="sc">+</span>  <span class="co"># Facet by crime type</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Log-Transformed Distributions of Crime Data"</span>,</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Log Value"</span>,</span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Frequency"</span></span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">3</span>)  <span class="co"># Reduce the font size of X-axis text</span></span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="1-Issue-for-Decision-Making_files/figure-html/unnamed-chunk-9-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Covariance Matrix (Log-Transformed)</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>delitos_data <span class="sc">%&gt;%</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span> <span class="fu">log</span>(.x<span class="sc">+</span><span class="dv">1</span>))) <span class="sc">%&gt;%</span>  <span class="co"># Log-transform (+1 to handle zeros)</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cov</span>() <span class="sc">%&gt;%</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">2</span>, <span class="at">caption =</span> <span class="st">"Covariance Matrix (Log-Transformed)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Covariance Matrix (Log-Transformed)</caption>
<colgroup>
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">SEXUALES</th>
<th style="text-align: right;">EXTORSION</th>
<th style="text-align: right;">HOMICIDIO</th>
<th style="text-align: right;">HOMICIDIO_AT</th>
<th style="text-align: right;">SEMOVIENTES</th>
<th style="text-align: right;">AUTOMOTORES</th>
<th style="text-align: right;">BANCOS</th>
<th style="text-align: right;">COMERCIO</th>
<th style="text-align: right;">MOTOCICLETAS</th>
<th style="text-align: right;">PERSONAS</th>
<th style="text-align: right;">PIRATERIA</th>
<th style="text-align: right;">RESIDENCIAS</th>
<th style="text-align: right;">LESIONES_AT</th>
<th style="text-align: right;">LESIONES</th>
<th style="text-align: right;">SECUESTRO</th>
<th style="text-align: right;">TERRORISMO</th>
<th style="text-align: right;">INTRAFAMILIAR</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">SEXUALES</td>
<td style="text-align: right;">1.92</td>
<td style="text-align: right;">1.40</td>
<td style="text-align: right;">1.39</td>
<td style="text-align: right;">1.18</td>
<td style="text-align: right;">0.17</td>
<td style="text-align: right;">1.31</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">1.84</td>
<td style="text-align: right;">1.96</td>
<td style="text-align: right;">2.46</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">1.73</td>
<td style="text-align: right;">1.91</td>
<td style="text-align: right;">1.83</td>
<td style="text-align: right;">0.14</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">2.05</td>
</tr>
<tr class="even">
<td style="text-align: left;">EXTORSION</td>
<td style="text-align: right;">1.40</td>
<td style="text-align: right;">1.59</td>
<td style="text-align: right;">1.27</td>
<td style="text-align: right;">1.02</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">1.21</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">1.60</td>
<td style="text-align: right;">1.77</td>
<td style="text-align: right;">2.13</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">1.45</td>
<td style="text-align: right;">1.58</td>
<td style="text-align: right;">1.49</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">1.65</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HOMICIDIO</td>
<td style="text-align: right;">1.39</td>
<td style="text-align: right;">1.27</td>
<td style="text-align: right;">1.76</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">1.11</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">1.48</td>
<td style="text-align: right;">1.78</td>
<td style="text-align: right;">1.94</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">1.26</td>
<td style="text-align: right;">1.45</td>
<td style="text-align: right;">1.41</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">1.57</td>
</tr>
<tr class="even">
<td style="text-align: left;">HOMICIDIO_AT</td>
<td style="text-align: right;">1.18</td>
<td style="text-align: right;">1.02</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.25</td>
<td style="text-align: right;">0.17</td>
<td style="text-align: right;">0.96</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">1.36</td>
<td style="text-align: right;">1.50</td>
<td style="text-align: right;">1.84</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">1.27</td>
<td style="text-align: right;">1.63</td>
<td style="text-align: right;">1.31</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">1.44</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SEMOVIENTES</td>
<td style="text-align: right;">0.17</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">0.17</td>
<td style="text-align: right;">0.35</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.23</td>
<td style="text-align: right;">0.22</td>
<td style="text-align: right;">0.23</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.26</td>
<td style="text-align: right;">0.27</td>
<td style="text-align: right;">0.23</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.22</td>
</tr>
<tr class="even">
<td style="text-align: left;">AUTOMOTORES</td>
<td style="text-align: right;">1.31</td>
<td style="text-align: right;">1.21</td>
<td style="text-align: right;">1.11</td>
<td style="text-align: right;">0.96</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">1.60</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">1.51</td>
<td style="text-align: right;">1.75</td>
<td style="text-align: right;">2.14</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">1.36</td>
<td style="text-align: right;">1.52</td>
<td style="text-align: right;">1.40</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">1.58</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BANCOS</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.06</td>
</tr>
<tr class="even">
<td style="text-align: left;">COMERCIO</td>
<td style="text-align: right;">1.84</td>
<td style="text-align: right;">1.60</td>
<td style="text-align: right;">1.48</td>
<td style="text-align: right;">1.36</td>
<td style="text-align: right;">0.23</td>
<td style="text-align: right;">1.51</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">2.41</td>
<td style="text-align: right;">2.22</td>
<td style="text-align: right;">2.92</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">2.02</td>
<td style="text-align: right;">2.24</td>
<td style="text-align: right;">2.04</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">2.24</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MOTOCICLETAS</td>
<td style="text-align: right;">1.96</td>
<td style="text-align: right;">1.77</td>
<td style="text-align: right;">1.78</td>
<td style="text-align: right;">1.50</td>
<td style="text-align: right;">0.22</td>
<td style="text-align: right;">1.75</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">2.22</td>
<td style="text-align: right;">2.86</td>
<td style="text-align: right;">3.09</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">2.04</td>
<td style="text-align: right;">2.34</td>
<td style="text-align: right;">2.14</td>
<td style="text-align: right;">0.21</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">2.33</td>
</tr>
<tr class="even">
<td style="text-align: left;">PERSONAS</td>
<td style="text-align: right;">2.46</td>
<td style="text-align: right;">2.13</td>
<td style="text-align: right;">1.94</td>
<td style="text-align: right;">1.84</td>
<td style="text-align: right;">0.23</td>
<td style="text-align: right;">2.14</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">2.92</td>
<td style="text-align: right;">3.09</td>
<td style="text-align: right;">4.34</td>
<td style="text-align: right;">0.14</td>
<td style="text-align: right;">2.75</td>
<td style="text-align: right;">3.14</td>
<td style="text-align: right;">2.83</td>
<td style="text-align: right;">0.20</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">3.07</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PIRATERIA</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.14</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.11</td>
</tr>
<tr class="even">
<td style="text-align: left;">RESIDENCIAS</td>
<td style="text-align: right;">1.73</td>
<td style="text-align: right;">1.45</td>
<td style="text-align: right;">1.26</td>
<td style="text-align: right;">1.27</td>
<td style="text-align: right;">0.26</td>
<td style="text-align: right;">1.36</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">2.02</td>
<td style="text-align: right;">2.04</td>
<td style="text-align: right;">2.75</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">2.24</td>
<td style="text-align: right;">2.20</td>
<td style="text-align: right;">2.03</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">2.19</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LESIONES_AT</td>
<td style="text-align: right;">1.91</td>
<td style="text-align: right;">1.58</td>
<td style="text-align: right;">1.45</td>
<td style="text-align: right;">1.63</td>
<td style="text-align: right;">0.27</td>
<td style="text-align: right;">1.52</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">2.24</td>
<td style="text-align: right;">2.34</td>
<td style="text-align: right;">3.14</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">2.20</td>
<td style="text-align: right;">3.10</td>
<td style="text-align: right;">2.28</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">2.50</td>
</tr>
<tr class="even">
<td style="text-align: left;">LESIONES</td>
<td style="text-align: right;">1.83</td>
<td style="text-align: right;">1.49</td>
<td style="text-align: right;">1.41</td>
<td style="text-align: right;">1.31</td>
<td style="text-align: right;">0.23</td>
<td style="text-align: right;">1.40</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">2.04</td>
<td style="text-align: right;">2.14</td>
<td style="text-align: right;">2.83</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">2.03</td>
<td style="text-align: right;">2.28</td>
<td style="text-align: right;">2.32</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">2.33</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SECUESTRO</td>
<td style="text-align: right;">0.14</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.21</td>
<td style="text-align: right;">0.20</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.13</td>
</tr>
<tr class="even">
<td style="text-align: left;">TERRORISMO</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.07</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.05</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">0.04</td>
</tr>
<tr class="odd">
<td style="text-align: left;">INTRAFAMILIAR</td>
<td style="text-align: right;">2.05</td>
<td style="text-align: right;">1.65</td>
<td style="text-align: right;">1.57</td>
<td style="text-align: right;">1.44</td>
<td style="text-align: right;">0.22</td>
<td style="text-align: right;">1.58</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">2.24</td>
<td style="text-align: right;">2.33</td>
<td style="text-align: right;">3.07</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">2.19</td>
<td style="text-align: right;">2.50</td>
<td style="text-align: right;">2.33</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">2.84</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="redundant-variables" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="redundant-variables"><span class="header-section-number">1.8</span> Redundant Variables</h2>
<p>Redundant variables provide little additional information due to high correlation with others, leading to multicollinearity in models.</p>
<p>Mathematically, redundancy is detected using the covariance matrix <span class="math inline">\(\Sigma\)</span>, whose eigenvalues <span class="math inline">\(\lambda_i\)</span> and eigenvectors <span class="math inline">\(v_i\)</span> capture variance directions. A small eigenvalue <span class="math inline">\(\lambda_{\min} \approx 0\)</span> suggests a near-linear dependency:</p>
<p><span class="math inline">\(\Sigma v_{\min} = \lambda_{\min} v_{\min}\)</span></p>
<p>The eigenvector <span class="math inline">\(v_{\\min}\)</span> identifies the redundant variable combination.</p>
<p>To confirm, we fit a regression model where one variable <span class="math inline">\(y\)</span> is explained by others:</p>
<p><span class="math inline">\(y = \beta_1 x_1 + \beta_2 x_2 + \dots + \beta_p x_p + \epsilon\)</span></p>
<p>To quantify redundancy, we compute Variance Inflation Factors (VIFs) for each predictor <span class="math inline">\(x_j\)</span>:</p>
<p><span class="math inline">\(VIF_j = \frac{1}{1 - R_j^2}\)</span></p>
<p>where <span class="math inline">\(R_j^2\)</span> is the <span class="math inline">\(R^2\)</span> value from regressing <span class="math inline">\(x_j\)</span> on all other predictors.</p>
<ul>
<li><span class="math inline">\(VIF_j = 1\)</span> → No multicollinearity.<br>
</li>
<li><span class="math inline">\(VIF_j &gt; 5\)</span> → Moderate multicollinearity.<br>
</li>
<li><span class="math inline">\(VIF_j &gt; 10\)</span> → Severe multicollinearity, indicating redundancy.</li>
</ul>
<p>A high VIF suggests that <span class="math inline">\(x_j\)</span> contributes little independent information and may be removed to improve model stability.</p>
<p>Eigenvalues and eigenvectors are fundamental tools in linear algebra, representing the directions and scaling factors of a matrix transformation.</p>
<ol type="1">
<li>Eigenvalues: Solving the Characteristic Equation</li>
</ol>
<p>The eigenvalues <span class="math inline">\(( \lambda )\)</span> of a matrix <span class="math inline">\(( A )\)</span> satisfy:</p>
<p><span class="math inline">\(\det(A - \lambda I) = 0\)</span></p>
<p>Where: - <span class="math inline">\(( A )\)</span> is the matrix. - <span class="math inline">\(( \lambda )\)</span> is the eigenvalue (unknown). - <span class="math inline">\(( I )\)</span> is the identity matrix (a diagonal matrix with 1s on the diagonal).</p>
<p>The characteristic polynomial is derived by computing <span class="math inline">\(( \det(A - \lambda I) )\)</span> and solving for <span class="math inline">\(( \lambda )\)</span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the matrix A</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>matrix_a <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(matrix_a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    4    2
[2,]    2    3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the characteristic polynomial</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="co"># A - λI (lambda is the eigenvalue)</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>identity_matrix <span class="ot">&lt;-</span> <span class="fu">diag</span>(<span class="fu">nrow</span>(matrix_a))  <span class="co"># Create identity matrix</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(identity_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    1    0
[2,]    0    1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>lambda <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="at">by =</span> <span class="fl">0.01</span>)  <span class="co"># Range of lambda values for solving</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>det_values <span class="ot">&lt;-</span> <span class="fu">numeric</span>(<span class="fu">length</span>(lambda))  <span class="co"># Store determinant values</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate det(A - λI) for each lambda</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(lambda)) {</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  char_matrix <span class="ot">&lt;-</span> matrix_a <span class="sc">-</span> lambda[i] <span class="sc">*</span> identity_matrix</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>  det_values[i] <span class="ot">&lt;-</span> <span class="fu">det</span>(char_matrix)</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="eigenvectors-solving-for-principal-directions" class="level3" data-number="1.8.1">
<h3 data-number="1.8.1" class="anchored" data-anchor-id="eigenvectors-solving-for-principal-directions"><span class="header-section-number">1.8.1</span> <strong>2️⃣ Eigenvectors: Solving for Principal Directions</strong></h3>
<p>For each eigenvalue ( ), the eigenvector ( v ) satisfies:</p>
<p>[ (A - I)v = 0 ]</p>
<p>This is a homogeneous system of linear equations. Solving this system gives the eigenvector(s) associated with each eigenvalue.</p>
<hr>
</section>
<section id="implementation-in-r" class="level3" data-number="1.8.2">
<h3 data-number="1.8.2" class="anchored" data-anchor-id="implementation-in-r"><span class="header-section-number">1.8.2</span> <strong>3️⃣ Implementation in R</strong></h3>
<p>Below is the step-by-step implementation in R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find approximate eigenvalues where det(A - λI) = 0</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>eigenvalue_indices <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">abs</span>(det_values) <span class="sc">&lt;</span> <span class="fl">1e-4</span>)  <span class="co"># Tolerance for numerical precision</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>eigenvalues <span class="ot">&lt;-</span> lambda[eigenvalue_indices]</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Eigenvalues:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Eigenvalues:"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(eigenvalues)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>numeric(0)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Compute eigenvectors for each eigenvalue</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>eigenvectors <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(eigenvalues)) {</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>  lambda_i <span class="ot">&lt;-</span> eigenvalues[i]</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>  char_matrix <span class="ot">&lt;-</span> matrix_a <span class="sc">-</span> lambda_i <span class="sc">*</span> identity_matrix</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Solve (A - λI)v = 0 using Gaussian elimination</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>  eigenvector <span class="ot">&lt;-</span> <span class="fu">nullspace</span>(char_matrix)</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>  eigenvectors[[i]] <span class="ot">&lt;-</span> eigenvector</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Display eigenvectors</span></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Eigenvectors:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Eigenvectors:"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(eigenvectors)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>list()</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Utility function for null space (solve for eigenvectors)</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>nullspace <span class="ot">&lt;-</span> <span class="cf">function</span>(A, <span class="at">tol =</span> <span class="fl">1e-7</span>) {</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  svd_res <span class="ot">&lt;-</span> <span class="fu">svd</span>(A)</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>  null_mask <span class="ot">&lt;-</span> svd_res<span class="sc">$</span>d <span class="sc">&lt;=</span> tol</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">any</span>(null_mask)) {</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(svd_res<span class="sc">$</span>v[, null_mask, <span class="at">drop =</span> <span class="cn">FALSE</span>])</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> <span class="fu">ncol</span>(A), <span class="at">ncol =</span> <span class="dv">0</span>))</span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Covariance matrix </span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>cm_delitos_data <span class="ot">&lt;-</span> delitos_data <span class="sc">%&gt;%</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cov</span>()</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute eigenvalues and eigenvectors</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>eigen_results <span class="ot">&lt;-</span> cm_delitos_data <span class="sc">%&gt;%</span> <span class="fu">eigen</span>()</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract eigenvalues and eigenvectors</span></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>eigenvalues <span class="ot">&lt;-</span> eigen_results<span class="sc">$</span>values</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>eigenvectors <span class="ot">&lt;-</span> eigen_results<span class="sc">$</span>vectors</span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Display eigenvalues and eigenvectors</span></span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(eigenvalues)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1.250876e+06 4.281621e+04 8.682038e+03 3.260064e+03 1.562742e+03
 [6] 7.490358e+02 6.065362e+02 3.816931e+02 2.568519e+02 2.392566e+02
[11] 1.462624e+02 3.126313e+01 3.305127e+00 7.773118e-01 4.696514e-01
[16] 2.357945e-01 6.157649e-02</code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(eigenvectors)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              [,1]        [,2]         [,3]          [,4]         [,5]
[1,] -5.829649e-02 -0.11944538  0.026904976  0.0012357373 -0.167500010
[2,] -2.022047e-02 -0.02336411 -0.048748480  0.0790413657 -0.001392569
[3,] -9.440708e-03 -0.04708158 -0.072991816  0.0344810929 -0.084064047
[4,] -5.972312e-03 -0.01439444 -0.057916767  0.0215286604  0.024783407
[5,] -3.130837e-05 -0.00103919 -0.005054466 -0.0009758358 -0.007646087
[6,] -2.751999e-02 -0.04268263 -0.020573675  0.1928065256 -0.067291695
             [,6]         [,7]         [,8]         [,9]        [,10]
[1,] -0.202414656 -0.331055723  0.539658933  0.563741006  0.407972622
[2,]  0.019781286 -0.204488418  0.391938291  0.083263342 -0.505699795
[3,] -0.118279164 -0.165622199  0.300690135 -0.184160661 -0.639566198
[4,]  0.029853575 -0.054903670  0.023321387  0.009283895 -0.008556854
[5,]  0.006664096 -0.007135128 -0.004467015  0.013789569 -0.002865287
[6,] -0.018187849  0.844201200  0.485824778 -0.046386871  0.054546824
            [,11]       [,12]        [,13]        [,14]         [,15]
[1,]  0.161561012 -0.03706375 -0.003402717  0.001709999  0.0036723155
[2,] -0.728574000  0.03084884 -0.011839168 -0.003459286 -0.0001423294
[3,]  0.635088265 -0.07443325  0.009871639  0.016627160  0.0051141468
[4,]  0.085043763  0.99111147 -0.032104784  0.002138294  0.0112746724
[5,] -0.011281998  0.03270668  0.998614054  0.025019824 -0.0196133687
[6,]  0.006545551  0.03195186  0.007743749 -0.001214685  0.0028503339
            [,16]         [,17]
[1,] -0.001348355  0.0004933356
[2,]  0.002784057  0.0004789114
[3,]  0.005420859 -0.0029183297
[4,]  0.003627871 -0.0024832763
[5,]  0.012194850  0.0037268995
[6,]  0.001076598  0.0011279474</code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The Smallest Eigenvalues</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(eigenvalues, <span class="at">decreasing =</span> <span class="cn">FALSE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.06157649 0.23579447 0.46965143 0.77731183 3.30512668</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The smallest eigenvalue is approximately zero</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>smallest_eigenvalue <span class="ot">&lt;-</span> <span class="fu">min</span>(eigenvalues)</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(smallest_eigenvalue)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.06157649</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Corresponding eigenvector</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>smallest_eigenvector <span class="ot">&lt;-</span> eigenvectors[, <span class="fu">which.min</span>(eigenvalues)]</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(smallest_eigenvector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  4.933356e-04  4.789114e-04 -2.918330e-03 -2.483276e-03  3.726900e-03
 [6]  1.127947e-03  9.970398e-01 -1.473491e-03 -1.642480e-04 -2.829025e-05
[11] -7.169017e-02  3.443305e-04  1.761460e-04  2.489371e-04  1.948032e-02
[16]  1.897415e-02  1.922524e-05</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Normalize the eigenvector by dividing by the largest absolute value</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>normalized_eigenvector <span class="ot">&lt;-</span> smallest_eigenvector <span class="sc">/</span> <span class="fu">max</span>(<span class="fu">abs</span>(smallest_eigenvector))</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(normalized_eigenvector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  4.948003e-04  4.803333e-04 -2.926994e-03 -2.490649e-03  3.737965e-03
 [6]  1.131296e-03  1.000000e+00 -1.477866e-03 -1.647357e-04 -2.837425e-05
[11] -7.190302e-02  3.453528e-04  1.766689e-04  2.496762e-04  1.953816e-02
[16]  1.903048e-02  1.928233e-05</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sorted normalize the eigenvector</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">abs</span>(normalized_eigenvector), <span class="at">decreasing =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1.000000e+00 7.190302e-02 1.953816e-02 1.903048e-02 3.737965e-03
 [6] 2.926994e-03 2.490649e-03 1.477866e-03 1.131296e-03 4.948003e-04
[11] 4.803333e-04 3.453528e-04 2.496762e-04 1.766689e-04 1.647357e-04
[16] 2.837425e-05 1.928233e-05</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get numeric variable names (order matches eigenvector indices)</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>variable_names <span class="ot">&lt;-</span> <span class="fu">colnames</span>(delitos_data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)))</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort normalized eigenvector by absolute contribution (descending order)</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>sorted_contributions <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">abs</span>(normalized_eigenvector), <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the indices of the top contributions</span></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>top_indices <span class="ot">&lt;-</span> <span class="fu">order</span>(<span class="fu">abs</span>(normalized_eigenvector), <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the names of the top variables</span></span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a>top_variable_names <span class="ot">&lt;-</span> variable_names[top_indices]</span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-13"><a href="#cb81-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the top variable names</span></span>
<span id="cb81-14"><a href="#cb81-14" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(top_variable_names)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "BANCOS"     "PIRATERIA"  "SECUESTRO"  "TERRORISMO"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit a regression model to confirm the relationship</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(BANCOS <span class="sc">~</span> PIRATERIA <span class="sc">+</span> SECUESTRO <span class="sc">+</span> TERRORISMO, </span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">data =</span> <span class="fu">data.frame</span>(cm_delitos_data))</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = BANCOS ~ PIRATERIA + SECUESTRO + TERRORISMO, data = data.frame(cm_delitos_data))

Residuals:
    Min      1Q  Median      3Q     Max 
-5.8730 -0.4841  0.6268  1.6653  3.5698 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)  
(Intercept) -1.77660    0.80704  -2.201   0.0464 *
PIRATERIA    0.47702    0.22002   2.168   0.0493 *
SECUESTRO   -0.04399    0.31014  -0.142   0.8894  
TERRORISMO   0.47585    0.27419   1.735   0.1063  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 2.721 on 13 degrees of freedom
Multiple R-squared:  0.9814,    Adjusted R-squared:  0.9771 
F-statistic: 228.6 on 3 and 13 DF,  p-value: 1.704e-11</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Variance Inflation Factors</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="fu">vif</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> PIRATERIA  SECUESTRO TERRORISMO 
  76.58205  162.20340   29.44443 </code></pre>
</div>
</div>
</section>
</section>
<section id="global-variability-metric" class="level2" data-number="1.9">
<h2 data-number="1.9" class="anchored" data-anchor-id="global-variability-metric"><span class="header-section-number">1.9</span> Global Variability Metric</h2>
<p>The effective variance and effective standard deviation are measures of the overall variability in the dataset. They are derived from the determinant of the covariance matrix, which captures the generalized variance of the data. For log-transformed data, these metrics are computed similarly but on the log-transformed covariance matrix.</p>
<p>The effective variance is defined as:</p>
<p>Effective Variance <span class="math inline">\(= \det(\Sigma)^{\frac{1}{p}}\)</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(( \Sigma )\)</span> is the covariance matrix.</li>
<li><span class="math inline">\(( p )\)</span> is the number of variables.</li>
</ul>
<p>The effective standard deviation is given by:</p>
<ul>
<li>Effective Standard Deviation <span class="math inline">\(= \det(\Sigma)^{\frac{1}{2p}}\)</span></li>
</ul>
<p>For log-transformed data, the effective variance is computed as:</p>
<ul>
<li>Log-Transformed Effective Variance <span class="math inline">\(= \det(\log(\Sigma + 1))^{\frac{1}{p}}\)</span></li>
</ul>
<p>Similarly, the log-transformed effective standard deviation is:</p>
<ul>
<li>Log-Transformed Effective Standard Deviation <span class="math inline">\(= \det(\log(\Sigma + 1))^{\frac{1}{2p}}\)</span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>cov_matrix <span class="ot">&lt;-</span> delitos_data <span class="sc">%&gt;%</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>BANCOS) <span class="sc">%&gt;%</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span>  <span class="co"># Select numeric columns</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cov</span>() </span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Effective Variance</span></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a><span class="fu">det</span>(cov_matrix)<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">ncol</span>(cov_matrix))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 221.1333</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Log-Transformed Effective Variance</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="fu">det</span>(<span class="fu">log</span>(cov_matrix <span class="sc">+</span> <span class="dv">1</span>))<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">ncol</span>(cov_matrix))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.7122481</code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Effective Standard Deviation</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">det</span>(cov_matrix)<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span>(<span class="fu">ncol</span>(cov_matrix) <span class="sc">*</span> <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14.87055</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Log-Transformed Effective Standard Deviation</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">det</span>(<span class="fu">log</span>(cov_matrix <span class="sc">+</span> <span class="dv">1</span>))<span class="sc">^</span>(<span class="dv">1</span><span class="sc">/</span>(<span class="fu">ncol</span>(cov_matrix) <span class="sc">*</span> <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.843948</code></pre>
</div>
</div>
</section>
<section id="linear-dependency-and-precision-matrix" class="level2" data-number="1.10">
<h2 data-number="1.10" class="anchored" data-anchor-id="linear-dependency-and-precision-matrix"><span class="header-section-number">1.10</span> Linear Dependency and Precision Matrix</h2>
<p>Linear dependency in data occurs when some variables can be expressed as linear combinations of others, leading to redundancy. This is identified through the covariance matrix <span class="math inline">\(( \Sigma )\)</span> and its eigenvalues, where a near-zero eigenvalue indicates dependency.</p>
<p>The precision matrix <span class="math inline">\(( \Sigma^{-1} )\)</span>, the inverse of the covariance matrix, quantifies conditional dependencies. It highlights direct variable relationships, with zero entries indicating independence given other variables. These concepts are crucial for multicollinearity detection and improving model interpretability.</p>
<p>Multicollinearity occurs when predictor variables are highly correlated, making it difficult to isolate their individual effects in a model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute precision matrix</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>S_inv <span class="ot">&lt;-</span> <span class="fu">solve</span>(cov_matrix)</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Display precision matrix (should match example values)</span></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Precision Matrix (S⁻¹):</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Precision Matrix (S⁻¹):</code></pre>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(S_inv, <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              SEXUALES EXTORSION HOMICIDIO HOMICIDIO_AT SEMOVIENTES AUTOMOTORES
SEXUALES       3.2e-03  -8.7e-04  -1.1e-04     -9.2e-04    -0.00123     2.0e-04
EXTORSION     -8.7e-04   5.3e-03  -1.6e-03      7.6e-04    -0.00344     7.8e-05
HOMICIDIO     -1.1e-04  -1.6e-03   5.6e-03     -1.8e-03     0.00345     5.4e-05
HOMICIDIO_AT  -9.2e-04   7.6e-04  -1.8e-03      3.2e-02    -0.00889     9.7e-04
SEMOVIENTES   -1.2e-03  -3.4e-03   3.4e-03     -8.9e-03     0.30404     2.3e-03
AUTOMOTORES    2.0e-04   7.8e-05   5.4e-05      9.7e-04     0.00226     1.9e-03
COMERCIO      -1.1e-04  -4.6e-04   6.3e-05     -1.3e-03     0.00137     2.2e-04
MOTOCICLETAS   1.8e-04  -4.9e-04   2.8e-05     -1.8e-03     0.00013    -3.4e-04
PERSONAS      -4.6e-05  -2.7e-05   4.5e-05      5.6e-05     0.00014    -4.2e-05
PIRATERIA      4.6e-03  -1.2e-02  -2.2e-02     -1.7e-02    -0.04302    -5.7e-03
RESIDENCIAS    5.8e-04  -1.5e-04   5.4e-04     -8.7e-04    -0.00374    -2.2e-04
LESIONES_AT    2.6e-04  -6.6e-05   8.0e-06     -1.2e-03     0.00088     1.4e-04
LESIONES      -5.4e-04   3.4e-04  -6.3e-04      3.6e-04    -0.00227    -1.7e-04
SECUESTRO     -8.5e-03   3.4e-03  -1.7e-02     -2.1e-02     0.02606    -4.3e-03
TERRORISMO     1.9e-03   2.6e-03  -1.7e-02      5.9e-03    -0.04198     3.6e-03
INTRAFAMILIAR -3.3e-04   2.0e-05   3.1e-05      1.2e-04     0.00096    -2.0e-05
              COMERCIO MOTOCICLETAS PERSONAS PIRATERIA RESIDENCIAS LESIONES_AT
SEXUALES      -1.1e-04      1.8e-04 -4.6e-05   0.00460     5.8e-04     2.6e-04
EXTORSION     -4.6e-04     -4.9e-04 -2.7e-05  -0.01204    -1.5e-04    -6.6e-05
HOMICIDIO      6.3e-05      2.8e-05  4.5e-05  -0.02227     5.4e-04     8.0e-06
HOMICIDIO_AT  -1.3e-03     -1.8e-03  5.6e-05  -0.01738    -8.7e-04    -1.2e-03
SEMOVIENTES    1.4e-03      1.3e-04  1.4e-04  -0.04302    -3.7e-03     8.8e-04
AUTOMOTORES    2.2e-04     -3.4e-04 -4.2e-05  -0.00569    -2.2e-04     1.4e-04
COMERCIO       2.6e-03      1.1e-05 -1.7e-04  -0.00559    -1.1e-03    -8.6e-05
MOTOCICLETAS   1.1e-05      5.0e-04  7.6e-06   0.00576     1.1e-04     2.9e-05
PERSONAS      -1.7e-04      7.6e-06  1.7e-05   0.00042     3.2e-05     2.7e-06
PIRATERIA     -5.6e-03      5.8e-03  4.2e-04   4.21534     4.9e-03     2.0e-03
RESIDENCIAS   -1.1e-03      1.1e-04  3.2e-05   0.00493     2.5e-03    -7.1e-05
LESIONES_AT   -8.6e-05      2.9e-05  2.7e-06   0.00197    -7.1e-05     4.4e-04
LESIONES      -1.6e-04     -1.2e-04  1.7e-05   0.00031    -3.7e-04    -2.6e-04
SECUESTRO      1.7e-03     -3.8e-03 -9.0e-05  -0.18597    -5.3e-04     8.1e-04
TERRORISMO    -1.0e-02     -6.8e-04  4.8e-04   0.23517     5.1e-04     1.9e-03
INTRAFAMILIAR  1.7e-04     -2.2e-05 -1.1e-05  -0.00202    -1.3e-04     2.1e-05
              LESIONES SECUESTRO TERRORISMO INTRAFAMILIAR
SEXUALES      -5.4e-04  -0.00847    0.00188      -3.3e-04
EXTORSION      3.4e-04   0.00336    0.00258       2.0e-05
HOMICIDIO     -6.3e-04  -0.01698   -0.01664       3.1e-05
HOMICIDIO_AT   3.6e-04  -0.02095    0.00588       1.2e-04
SEMOVIENTES   -2.3e-03   0.02606   -0.04198       9.6e-04
AUTOMOTORES   -1.7e-04  -0.00427    0.00363      -2.0e-05
COMERCIO      -1.6e-04   0.00165   -0.01024       1.7e-04
MOTOCICLETAS  -1.2e-04  -0.00377   -0.00068      -2.2e-05
PERSONAS       1.7e-05  -0.00009    0.00048      -1.1e-05
PIRATERIA      3.1e-04  -0.18597    0.23517      -2.0e-03
RESIDENCIAS   -3.7e-04  -0.00053    0.00051      -1.3e-04
LESIONES_AT   -2.6e-04   0.00081    0.00194       2.1e-05
LESIONES       7.1e-04   0.00258   -0.00092      -9.2e-05
SECUESTRO      2.6e-03   1.98866   -0.34864       1.6e-03
TERRORISMO    -9.2e-04  -0.34864    1.46659       6.0e-04
INTRAFAMILIAR -9.2e-05   0.00160    0.00060       1.2e-04</code></pre>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract first row components</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>first_row <span class="ot">&lt;-</span> S_inv[<span class="dv">1</span>,]</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>diag_element <span class="ot">&lt;-</span> S_inv[<span class="dv">1</span>,<span class="dv">1</span>]</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate regression coefficients</span></span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>beta_coefficients <span class="ot">&lt;-</span> <span class="sc">-</span>first_row[<span class="sc">-</span><span class="dv">1</span>]<span class="sc">/</span>diag_element</span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(beta_coefficients, <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    EXTORSION     HOMICIDIO  HOMICIDIO_AT   SEMOVIENTES   AUTOMOTORES 
        0.271         0.035         0.285         0.381        -0.063 
     COMERCIO  MOTOCICLETAS      PERSONAS     PIRATERIA   RESIDENCIAS 
        0.035        -0.057         0.014        -1.432        -0.181 
  LESIONES_AT      LESIONES     SECUESTRO    TERRORISMO INTRAFAMILIAR 
       -0.082         0.169         2.634        -0.585         0.102 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate residual variance and standar error</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>residual_variance <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">/</span>diag_element</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(residual_variance, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 311.01</code></pre>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="fu">round</span>(residual_variance, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 17.63548</code></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># R^2</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">-</span> (<span class="dv">1</span><span class="sc">/</span>(cov_matrix[<span class="dv">1</span>,<span class="dv">1</span>] <span class="sc">*</span> S_inv[<span class="dv">1</span>,<span class="dv">1</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.940712</code></pre>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Regression coefficients</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>delitos <span class="ot">&lt;-</span> delitos_data <span class="sc">%&gt;%</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>BANCOS) <span class="sc">%&gt;%</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(SEXUALES <span class="sc">~</span> ., <span class="at">data =</span> <span class="fu">data.frame</span>(delitos))</span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = SEXUALES ~ ., data = data.frame(delitos))

Residuals:
     Min       1Q   Median       3Q      Max 
-124.357   -2.738   -0.483    2.601  247.785 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)    0.643683   0.620715   1.037 0.299944    
EXTORSION      0.271378   0.036316   7.473 1.51e-13 ***
HOMICIDIO      0.034617   0.038244   0.905 0.365570    
HOMICIDIO_AT   0.285011   0.090904   3.135 0.001759 ** 
SEMOVIENTES    0.381025   0.280614   1.358 0.174774    
AUTOMOTORES   -0.063471   0.022154  -2.865 0.004243 ** 
COMERCIO       0.035340   0.026052   1.357 0.175190    
MOTOCICLETAS  -0.057217   0.011254  -5.084 4.28e-07 ***
PERSONAS       0.014169   0.002071   6.843 1.24e-11 ***
PIRATERIA     -1.431851   1.044847  -1.370 0.170821    
RESIDENCIAS   -0.180704   0.024888  -7.261 6.91e-13 ***
LESIONES_AT   -0.081554   0.010477  -7.784 1.51e-14 ***
LESIONES       0.169405   0.012646  13.396  &lt; 2e-16 ***
SECUESTRO      2.633992   0.714179   3.688 0.000236 ***
TERRORISMO    -0.584808   0.616549  -0.949 0.343056    
INTRAFAMILIAR  0.102284   0.004648  22.007  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 17.75 on 1199 degrees of freedom
Multiple R-squared:  0.9407,    Adjusted R-squared:   0.94 
F-statistic:  1268 on 15 and 1199 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section>
</section>
<section id="hands-on-data-analysis" class="level1 unnumbered">
<h1 class="unnumbered">Hands-on Data Analysis</h1>
<section id="tackling-a-critical-challenge-the-proliferation-of-spatial-criminal-phenomena" class="level2" data-number="1.11">
<h2 data-number="1.11" class="anchored" data-anchor-id="tackling-a-critical-challenge-the-proliferation-of-spatial-criminal-phenomena"><span class="header-section-number">1.11</span> Tackling a Critical Challenge: The Proliferation of Spatial Criminal Phenomena</h2>
<section id="mathematical-definitions" class="level3" data-number="1.11.1">
<h3 data-number="1.11.1" class="anchored" data-anchor-id="mathematical-definitions"><span class="header-section-number">1.11.1</span> Mathematical Definitions:</h3>
<ul>
<li><p>Polygons: Represented as <span class="math inline">\(P = \{ p_1, p_2, \dots, p_n \}\)</span> where each polygon <span class="math inline">\(( p_i )\)</span> has geometric and attribute data.</p></li>
<li><p>Phenomenon: A discrete or continuous variable <span class="math inline">\(( Y )\)</span> observed across <span class="math inline">\(( P )\)</span>.</p></li>
<li><p>Adjacency Matrix: <span class="math inline">\(( A )\)</span> where</p>
<p><span class="math inline">\(A_{ij} = \begin{cases} 1, &amp; \text{if } p_i \text{ and } p_j \text{ share a boundary} \\ 0, &amp; \text{otherwise} \end{cases}\)</span></p></li>
<li><p>Distance Matrix: <span class="math inline">\(( D )\)</span> where <span class="math inline">\(( D_{ij} )\)</span> represents the distance between the centroids of <span class="math inline">\(( p_i )\)</span> and <span class="math inline">\(( p_j )\)</span>.</p></li>
</ul>
</section>
<section id="phenomenon-classification" class="level3" data-number="1.11.2">
<h3 data-number="1.11.2" class="anchored" data-anchor-id="phenomenon-classification"><span class="header-section-number">1.11.2</span> Phenomenon Classification:</h3>
<ul>
<li><p>Local (Within Polygon): Phenomenon occurs exclusively inside a single polygon <span class="math inline">\(( p_i )\)</span>. Thus, <span class="math inline">\(Y_i = f(\text{Internal factors of } p_i)\)</span>.</p></li>
<li><p>Subnational (Cluster of Neighbors): Phenomenon clusters among adjacent polygons. Thus, <span class="math inline">\(Y_i = \beta_0 + \beta_1 \sum_{j \in N(i)} Y_j + \epsilon\)</span> where <span class="math inline">\(( N(i) )\)</span> are the neighbors of <span class="math inline">\(( p_i )\)</span>.</p></li>
<li><p>National/International (Neighbors + Non-Neighbors): Phenomenon spans both adjacent and non-adjacent polygons (e.g., trade networks). Thus, <span class="math inline">\(Y_i = f\left(\sum_j w_{ij} Y_j\right)\)</span> where <span class="math inline">\(( w_{ij} )\)</span> depends on distance or network connectivity.</p></li>
<li><p>Local-Subnational (Clear Boundaries): Clear separation between local (city) and subnational (state) boundaries among neighbors. Thus, <span class="math inline">\(Y_i = \alpha + \gamma \cdot \text{State}_i + \epsilon\)</span>.</p></li>
<li><p>Local-National/International (Non-Neighbors): Phenomenon connects non-neighboring polygons with clear boundaries (e.g., migration between distant cities). Thus, <span class="math inline">\(Y_i = f(Y_j)\)</span> where <span class="math inline">\(( A_{ij} = 0 )\)</span> (i.e., not adjacent) but <span class="math inline">\(( D_{ij} )\)</span> is significant.</p></li>
<li><p>Local-Subnational (Fuzzy Boundaries): Ambiguous administrative boundaries (e.g., overlapping jurisdictions). Thus, <span class="math inline">\(\mu_{ik} \in [0,1]\)</span> indicating the degree to which <span class="math inline">\(( p_i )\)</span> belongs to region <span class="math inline">\(( k )\)</span>.</p></li>
</ul>
</section>
</section>
<section id="final-project-activities" class="level2" data-number="1.12">
<h2 data-number="1.12" class="anchored" data-anchor-id="final-project-activities"><span class="header-section-number">1.12</span> Final Project Activities</h2>
<ul>
<li>Group stations based on your analysis interests to illustrate spatial criminal phenomena.</li>
<li>Define the issue for decision-making that you propose supported by the exploratory analysis of multidimensional data.</li>
<li>Upload your work by creating a GitHub pull request with your group’s <code>.qmd</code> file in the appendix section.</li>
</ul>
</section>
<section id="class-participation-assessment" class="level2" data-number="1.13">
<h2 data-number="1.13" class="anchored" data-anchor-id="class-participation-assessment"><span class="header-section-number">1.13</span> Class Participation Assessment</h2>
<ul>
<li>Replicate the exploratory analysis on the selected stations as demonstrated in the lecture, and compare your results with those of other groups.<br>
</li>
<li>Upload your analysis under the respective subsections titled <code>Augmented Data Analyst</code> and <code>Prompts</code>.</li>
</ul>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-peña2002análisis" class="csl-entry" role="listitem">
Peña, D. 2002. <em>An<span>á</span>lisis Multivariante de Datos</em>. McGraw-Hill Interamericana de Espa<span>ñ</span>a S.L. <a href="https://books.google.com.co/books?id=TrVlAAAACAAJ">https://books.google.com.co/books?id=TrVlAAAACAAJ</a>.
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link" aria-label="Preface">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Preface</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./2-Key-Players-and-Topics.html" class="pagination-link" aria-label="Key Players and Topics">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Key Players and Topics</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>